webpackJsonp([42],{13:function(t,e,i){"use strict";var n=i(2),o=i(11),s=i(3),r=i(14),a=(i(1).create("freeform","element.base"),{tel:{value:"",show_label_before:!0},text:{value:"",show_label_before:!0},email:{value:"",show_label_before:!0},number:{value:"",show_label_before:!0},search:{value:"",show_label_before:!0},url:{value:"",show_label_before:!0},password:{value:"",show_label_before:!0},textarea:{value:"",show_label_before:!0},checkbox:{value:"",show_label_after:!0,checked:!1},radio:{show_label_after:!0,checked:!1},radioset:{value:"",show_label_before:!0},select:{value:"",show_label_before:!0},buttonfield:{value:"",show_label_before:!0},submit:{label:"Submit",show_label_before:!1,show_label_after:!1,show_error:!1},reset:{label:"Reset",show_label_before:!1,show_label_after:!1,show_error:!1},button:{show_label_before:!1,show_label_after:!1,show_error:!1},buttonset:{show_label_before:!1,show_label_after:!1,show_error:!1}}),l=r.extend({defaults:function(){return{type:null,value:null,label:null,placeholder:null,name:this.cid,id:this.cid,disabled:!1,related_key:null,related_model:null,validator:null,error:null,confirmation:null,display_errors:!0,display_confirmations:!0,el:null,show_label:!0,show_error:!0,show_confirmation:!0,show_label_before:null,show_label_after:null,label_class:"label",error_class:"error",confirmation_class:"confirmation"}},defaultElementEvents:{"change:value":"validateElement","change:related_model":"initializeRelatedModel","change:related_key":"initializeRelatedModel"},elementEvents:{},defaultCollectionEvents:{"change:related_model":"initializeRelatedModel"},collectionEvents:{},constructor:function(t,e){var i=this.validateConstructor(t),o=a[i.type];o&&n.defaults(i,o),r.apply(this,[i,e]),s.bindEvents(this,this,this.defaultElementEvents),s.bindEvents(this,this,this.elementEvents),this.collection&&(s.bindEvents(this,this.collection,this.defaultCollectionEvents),s.bindEvents(this,this.collection,this.collectionEvents)),this.initializeRelatedModel(),this.initializeElement()},validateConstructor:function(t){return t},validateRelatedModel:function(t){if(t&&!(t instanceof o.Model))throw new Error("Related model must be a model.")},initializeElement:function(){},initializeRelatedModel:function(){var t=this.getRelated();if(t){this.validateRelatedModel(t.model),this.related_model&&this.stopListening(this.related_model);var e=t.model.get(t.key);this.set("value",e,{silent:!0}),this.listenTo(t.model,"change:"+t.key,this.onRelatedModelChange),this.related_model=t.model}},getRelated:function(){var t=this.get("related_model")||this.collection&&this.collection.related_model,e=this.get("related_key");return!(!t||!e)&&{model:t,key:e}},onRelatedModelChange:function(t,e,i){this.set("value",e)},validateElement:function(){this.unset("confirmation");var t=this.isValid(),e=this.validationError;this.set("error",e);var i=this.getRelated();if(i&&t){var n=this.get("value");i.model.set(i.key,n)}},validateRelated:function(t){var e=this.getRelated();if(e&&e.model.validateAttribute){var i=e.model.validateAttribute(e.key,t);if(i)return i}},validators:{value:function(t,e){var i=void 0,o=this.get("validator");return i=n.isFunction(o)?o.call(this,t):this.validateRelated(t)}}});t.exports=l},18:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("Dialog.alert requires an html string");return t.indexOf("<p>")<0&&(t="<p>"+t+"</p>"),e.html=t,o.defaults(e,{width:350,click_overlay_to_close:!1,close_button:!1,glyph:"exclamation",buttons:[{text:"OK",default:!0,color:"dark seafoam",className:"fullwidth",onClick:function(){this.dialog.close()}}]}),new s(e)}var o=i(2),s=i(19);i(1).create("dialog","alert");t.exports=n},19:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(6),r=i(36),a=i(78),l=i(89),c=i(86),d=i(43),u=i(17),h=i(70),p=i(7),f=i(1).create("dialog","view"),m=1e3,g=p.dialog,b=n.View.extend({styles:i(85),template:l,ui:{overlay:".dialog-overlay",box:".dialog-box",head:".dialog-head",title:".dialog-title",close:".dialog-close",content:".dialog-content",buttons:".dialog-buttons"},events:{"click @ui.close":"onClickClose","click @ui.overlay":"onClickOverlay"},modelEvents:{"change:title":"onChangeTitle"},constructor:function(t){this.options=t||{},this.dialog_id=o.uniqueId("dialog"),this.initializeOptions(),this.model=new a(this.options),n.View.apply(this,arguments)},initialize:function(){o.bindAll(this,"activate","render","close","destroy"),this.destroy=o.debounce(this.destroy,100),this.render()},initializeOptions:function(){var t=this;o.defaults(this.options,{text:null,html:null,view:null,viewClass:null,viewOptions:{},title:null,className:null,close_button:!0,close_tooltip:"Close",close_on_escape:!0,disable_scroll:!0,show_overlay:!0,click_overlay_to_close:!0,glyph:!1,top:null,width:null,height:null,buttons:null,button_labels:null}),this.options.buttons&&(o.each(this.options.button_labels,function(e,i){t.options.buttons[i].text=e}),this.options.buttons=new r.List(this.options.buttons)),this.click_overlay_to_close=this.options.click_overlay_to_close},behaviors:function t(){var t={};return t.Css={behaviorClass:d,label:"dialog-"+this.dialog_id,template:c,templateData:{dialog:this.model},templateContext:function(){return{id:this.dialog_id}}},t},onRender:function(){this.addClassNames(),this.showContent(),this.showButtons(),this.show()},addClassNames:function(){var t=["dialog",this.dialog_id];this.model.get("title")&&t.push("has-title"),this.model.get("title")||t.push("untitled"),this.model.get("glyph")&&t.push("has-glyph"),this.model.get("close_button")&&t.push("has-closebutton"),this.$el.addClass(t.join(" "))},onChangeTitle:function(t,e,i){this.ui.title.text(e),this.$el.toggleClass("untitled",!e)},showContent:function(){var t=void 0;if(this.options.viewClass?t=new this.options.viewClass(this.options.viewOptions):this.options.view&&(t=this.options.view),t){if(t.isDestroyed())return f.error("Attempting to show a destroyed view in a dialog"),void this.destroy();t.dialog=this,t.destroy=o.wrap(t.destroy,function(e){t.trigger("close"),o.delay(o.bind(e,t),100)}),this.listenTo(t,"close",this.close),this.addRegion("content",{el:this.ui.content}),this.showChildView("content",t),this.content_view=t}else if(this.options.html)this.ui.content.html(this.options.html);else{if(!this.options.text)throw new Error("Dialog requires a text or html string, or a view class, or a view instance.");this.ui.content.text(this.options.text)}},showButtons:function(){if(this.options.buttons){this.addRegion("buttons",{el:this.ui.buttons}),this.button_list_view=new r.ListView({collection:this.options.buttons});var t=this.content_view||this;t.listenTo(this.button_list_view,"all",function(e){var i=e.split(":")[0];"button"===i&&t.triggerMethod.apply(t,arguments)}),this.showChildView("buttons",this.button_list_view)}},show:function(){this.options.disable_scroll&&h.on(this.cid),this.options.close_on_escape&&u.listen(this.cid,this.close),this.$el.css("z-index",m++),s.body.append(this.$el),s(document.activeElement).blur(),this.content_view&&this.content_view.triggerMethod("attach"),this.triggerMethod("attach"),o.isFunction(this.options.open)&&this.options.open.call(this),o.defer(this.activate),g.trigger("dialog:open")},activate:function(){this.$el.addClass("active"),this.content_view&&this.content_view.triggerMethod("attach"),this.triggerMethod("attach")},deactivate:function(){this.$el.removeClass("active")},close:function(){this.isDestroyed()||(this.deactivate(),this.destroy(),g.trigger("dialog:close"))},onBeforeDestroy:function(){this.overlay&&this.overlay.destroy(),s.window.off("resize."+this.dialog_id),o.isFunction(this.options.close)&&this.options.close.call(this),this.options.close_on_escape&&u.unlisten(this.cid),this.options.disable_scroll&&h.off(this.cid)},onClickClose:function(){this.close()},onClickOverlay:function(){var t=o.result(this,"click_overlay_to_close");t&&this.close()},onButtonClick:function(t){var e=t.model.get("onClick");o.isFunction(e)&&(t.dialog=this,e.call(t))}});t.exports=b},22:function(t,e,i){"use strict";var n=i(19),o=i(31),s=i(18),r=i(76),a=i(75),l=i(74),c=i(77);i(79);i(1).create("dialog");t.exports={View:n,Behavior:o,alert:s,error:r,confirm:a,banner:l,loading:c}},29:function(t,e,i){"use strict";var n=i(2),o=i(14),s=(i(1).create("button"),o.extend({constructor:function(t,e){var i=t;n.isString(i)&&(i={text:i}),o.apply(this,[i,e])},defaults:{default:!1,button:!0,size:"large",loading:!1,disabled:!1}}));t.exports=s},30:function(t,e,i){"use strict";var n=i(2),o=i(3),s=i(46),r=i(88),a=(i(1).create("button"),o.View.extend({styles:i(84),template:r,tagName:function(){return this.model.get("tagName")||"div"},className:function(){var t=[];return this.model.get("button")&&t.push("button"),this.model.get("loading")&&t.push("loading disabled"),this.model.get("disabled")&&t.push("disabled"),t.push(this.model.get("size")),t.push(this.model.get("color")),t.push(this.model.get("className")),n.unique(t).join(" ").replace(/ {2,}/," ").trim()},attributes:function t(){var t={disabled:!1};return this.model.get("loading")&&(t.disabled=!0),this.model.get("disabled")&&(t.disabled=!0),t},initialize:function(){n.bindAll(this,"onClick"),this.listenTo(this.model,"change:size change:color change:loading change:disabled",this.setClassName),this.listenTo(this.model,"change:loading change:disabled",this.setAttributes),this.listenTo(this.model,"change:text",this.render),this.listenTo(this.model,"change:loading_text",this.render),this.model.get("default")&&s.listen(this.cid,this.onClick)},setClassName:function(){var t=n.result(this,"className");this.$el.attr("class",t)},setAttributes:function(){var t=n.result(this,"attributes");this.$el.attr(t)},events:{click:"onClick"},onClick:function(){if(!this.model.get("disabled")){this.trigger("click",this);var t=this.model.get("trigger");t&&this.trigger(t,this)}},onBeforeDestroy:function(){s.unlisten(this.cid)}}));t.exports=a},31:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(19),r=i(1).create("dialog","behavior"),a=n.Behavior.extend({initialize:function(t){this.options=o.omit(t,"behaviorClass"),this.options.view=this.view,o.bindAll(this,"showDialog"),o.defer(this.showDialog)},showDialog:function(){this.dialog=new s(this.options)},onBeforeDestroy:function(){r("destroy")}});a.config=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.behaviorClass=a,o.defaults(t,{}),t},t.exports=a},33:function(t,e,i){"use strict";var n=i(11),o=i(40),s=n.Collection.extend({model:o,initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setRelatedModel(e.related_model)},setRelatedModel:function(t){this.related_model!==t&&(this.related_model=t,this.trigger("change:related_model",this,t))}});t.exports=s},34:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(13),r=i(42),a=(i(1).create("freeform","input_view"),n.View.extend({tagName:"input",template:o.template(""),events:{blur:"onBlur",focus:"onFocus"},constructor:function(){var t=this;if(n.View.apply(this,arguments),!(this.model instanceof s))throw new Error("InputView requires an Element model.");this.listenTo(this.model,"change:value",this.onModelChangeValue),this.listenTo(this,"render",this.setAttributes);var e=this.model.get("className");e&&this.$el.addClass(e),this.listenTo(this.model,"change:placeholder",function(e,i){t.$el.attr("placeholder",i)}),this.listenTo(this.model,"change:disabled",function(e,i){t.$el.attr("disabled",i)}),this.listenTo(this.model,"request:focus",this.focus)},triggers:{change:"input:change"},onInputChange:function(){var t=this.getInputValue();this.model.set("value",t,{from:this})},getInputValue:function(){return this.$el.val()},setInputValue:function(t){this.$el.val(t)},focus:function(){this.$el.focus()},onBlur:function(){this.model.trigger("blur")},onFocus:function(){this.model.trigger("focus")},onModelChangeValue:function(t,e,i){i.from!==this&&this.setInputValue(e)}}));o.extend(a.prototype,r),t.exports=a},35:function(t,e,i){"use strict";var n=i(126),o=i(127),s=i(122),r=i(123),a=i(124),l=i(125),c=i(96),d=i(121),u=i(120),h={button:c,buttonfield:u,buttonset:d,checkbox:s,email:n,url:n,number:n,password:n,radio:r,radioset:a,reset:c,search:n,select:l,submit:c,tel:n,text:n,textarea:o};t.exports=h},36:function(t,e,i){"use strict";var n=i(29),o=i(72),s=i(30),r=i(73);t.exports={Model:n,List:o,View:s,ListView:r}},38:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(17),r=(i(1).create("destroy_on_escape"),n.Behavior.extend({initialize:function(t){var e=this.view[this.options.method];if(!o.isFunction(e))throw new Error("Invalid method");o.bindAll(this,"onEscape")},onAttach:function(){s.listen(this.view.cid,this.onEscape)},onEscape:function(){this.view[this.options.method]()},onBeforeDestroy:function(){s.unlisten(this.view.cid)}}));r.config=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.behaviorClass=r,o.defaults(t,{method:"destroy"}),t},t.exports=r},39:function(t,e,i){"use strict";var n=i(40),o=i(33),s=i(95),r=i(119),a=i(41),l=i(35),c=i(97),d={Element:n,ElementList:o,Form:s,FormView:r,ElementView:a,InputViewTypes:l,LabelView:c};t.exports=d},40:function(t,e,i){"use strict";var n=i(14),o=i(118),s=n.extend({constructor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=o[t.type];if(!i)throw new Error("Element requires a valid type.");return new i(t,e)}});t.exports=s},41:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(13),r=i(35),a=i(97),l=i(128);i(1).create("element_view");i(103);var c=n.View.extend({tagName:"fieldset",className:"element",template:l,regions:function t(){var t={input_region:"> .input-region"};return(this.options.model.get("show_label_before")||this.options.model.get("show_label_after"))&&(t.label_region="> .label-region"),(this.options.model.get("show_confirmation")||this.options.model.get("show_error"))&&(t.status_region="> .status-region"),t},elementViewEvents:{"before:render":"onBeforeElementRender",render:"onElementRender",all:"onAll"},elementModelEvents:{"change:label":"showLabel","change:confirmation":"onChangeStatus","change:error":"onChangeStatus","change:display_confirmations":"onChangeStatus","change:display_errors":"onChangeStatus"},formModelEvents:{"change:display_confirmations":"onChangeStatus","change:display_errors":"onChangeStatus"},constructor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.model;if(!(e instanceof s))throw new Error("ElementView requires an Element model.");this.type=e.get("type"),n.View.call(this,t),n.bindEvents(this,this,this.elementViewEvents),n.bindEvents(this,e,this.elementModelEvents),this.form=t.form,this.form&&n.bindEvents(this,this.form,this.formModelEvents),"checkbox"===this.type&&(this.listenTo(this.model,"change:checked",this.onCheckboxChangeChecked),this.listenTo(this,"render",this.onCheckboxChangeChecked))},onAll:function(t){},onBeforeElementRender:function(){},onElementRender:function(){var t=o.result(this,"className");t&&this.$el.addClass(t),this.$el.addPrefixedClass("type",this.type),o(["submit","reset"]).contains(this.type)&&this.$el.addClass("type-button"),this.showLabel(),this.onChangeStatus(),this.createInputView()},createInputView:function(){var t=this.getInputView();this.input_view=new t({model:this.model}),this.showChildView("input_region",this.input_view)},getInputView:function(){var t=this.inputView||r[this.type];if(!t)throw new Error("No InputView defined for type "+this.type);return t},showLabel:function(){var t=this.getRegion("label_region");if(t){var e=this.model.get("label");if(e){var i=new a({for:this.model.get("id"),label:e,className:this.model.get("label_class")});t.show(i)}else t.empty()}},onChangeStatus:function(){var t=this.getStatus();switch(t){case"error":return this.showError();case"confirmation":return this.showConfirmation();default:return this.emptyStatusRegion()}},getStatus:function(){var t=this.model.get("display_errors")&&(!this.form||this.form.get("display_errors")),e=t&&this.model.get("error");if(e)return"error";var i=this.model.get("display_confirmations")&&(!this.form||this.form.get("display_confirmations")),n=i&&this.model.get("confirmation");return n?"confirmation":void 0},getErrorClass:function(){var t=o.result(this,"className"),e=this.model.get("error_class").split(" ")[0].trim();return t+"-"+e},getConfirmationClass:function(){var t=o.result(this,"className"),e=this.model.get("confirmation_class").split(" ")[0].trim();return t+"-"+e},showError:function(){var t=this.model.get("error"),e=this.getRegion("status_region");if(e){var i=new a({for:this.model.get("id"),label:t,className:this.model.get("error_class")});e.show(i)}this.$el.removeClass(this.getConfirmationClass()),this.$el.addClass(this.getErrorClass())},showConfirmation:function(){var t=this.model.get("confirmation"),e=this.getRegion("status_region");if(e){var i=new a({for:this.model.get("id"),label:t,className:this.model.get("confirmation_class")});e.show(i)}this.$el.removeClass(this.getErrorClass()),this.$el.addClass(this.getConfirmationClass())},emptyStatusRegion:function(){this.$el.removeClass(this.getConfirmationClass()),this.$el.removeClass(this.getErrorClass());var t=this.getRegion("status_region");t&&t.empty()},onCheckboxChangeChecked:function(){var t=!!this.model.get("checked");this.$el.toggleClass("checked",t)}});t.exports=c},42:function(t,e,i){"use strict";var n=i(2),o={setAttributes:function(){var t=n.result(this,"attributes");this.$el.attr(t)},attributes:function(){return this.model.pick(this.attribute_keys)}};t.exports=o},46:function(t,e,i){"use strict";var n=i(6),o=i(27),s=i(1).create("enter"),r={listening:!1,stack:[],handlers:{},focushandlers:{},listen:function(t,e,i){return t&&n.isFunction(e)?(this.unlisten(t),this.stack.unshift(t),this.handlers[t]=e,n.isFunction(i)&&(this.focushandlers[t]=i),void this._on()):s.error("Enter.listen requires an id and a handler function")},unlisten:function(t){var e=n.inArray(t,this.stack);e>-1&&this.stack.splice(e,1),delete this.handlers[t],delete this.focushandlers[t],0===e&&this.stack.length&&(t=this.stack[0],t&&this.focushandlers[t]&&this.focushandlers[t]()),this._off()},trigger:function(){var t=this.stack[0];t&&this.handlers[t]&&this.handlers[t]()},validateKey:function(t){return t.which===o.ENTER},_on:function(){this.listening||(n(window).on("keyup.enter",function(t){r.validateKey(t)&&r.trigger()}),this.listening=!0)},_off:function(){this.stack.length||(n(window).off("keyup.enter"),this.listening=!1)}};t.exports=r},70:function(t,e,i){"use strict";function n(){u.scrolling_disabled||(u.scrolling_disabled=!0,c=s.window.scrollTop(),l.css({top:0-c+"px",position:"fixed"}),s.window.scrollTop(0))}function o(){u.scrolling_disabled&&(l.removeAttr("style"),s.window.scrollTop(c),u.scrolling_disabled=!1)}var s=i(6),r=i(2),a=i(1).create("disablescroll"),l=void 0,c=void 0,d=void 0,u={scrolling_disabled:!1,initialize:r.once(function(){a("initialize"),l=s(".page-container"),d=[]}),on:function(t){return t?void(r.contains(d,t)||(this.initialize(),d.push(t),a(d),n())):a.error("DisableScroll requires an id")},off:function(t){if(!t)return a.error("DisableScroll.off requires an id");var e=r.indexOf(d,t);e>-1&&d.splice(e,1),a(d),0===d.length&&o()}};t.exports=u},71:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(6),r=i(87),a=i(17),l=i(7),c=i(1).create("banner"),d=["info","confirmation","warning","error"],u=n.View.extend({styles:i(83),template:r,className:"notification banner",ui:{banner:".banner-wrap",content:".message-content",close:".banner-close"},events:{"click @ui.close":"onClickClose","mouseenter @ui.banner":"clearFadeTimer","mouseleave @ui.banner":"startFadeTimer"},initialize:function(){o.bindAll(this,"destroy","fadeOut"),o.defaults(this.options,{close_button:!0,close_on_escape:!0,status:"confirmation",duration:5e3,fade_duration:500,viewClass:null,viewOptions:{},html:null,text:null}),this.render(),this.show()},templateContext:function t(){var t={};return t.options=o.pick(this.options,"close_button"),t},onRender:function(){if(this.addStatusClass(),this.options.viewClass){this.addRegion("content",{el:this.ui.content});var t=new this.options.viewClass(this.options.viewOptions);this.showChildView("content",t)}else if(this.options.html)this.ui.content.html(this.options.html);else{if(!this.options.text)throw new Error("Banner requires a text or html string, or a view class.");this.ui.content.text(this.options.text)}},addStatusClass:function(){if(!o.contains(d,this.options.status))throw new Error("Invalid banner status: "+this.options.status);this.$el.addClass("banner-"+this.options.status)},show:function(){var t=this;c("showBanner",this.cid),s.body.append(this.el),this.ui.content.height()>50&&this.$el.addClass("large"),l.dialog.trigger("banner:open"),this.listenTo(l.dialog,"banner:open dialog:open menu:topnav:open carousel:scroll",function(){t.fadeOut(200)}),this.listenTo(l.dialog,"dialog:open",function(){t.fadeOut(100)}),this.options.close_on_escape&&a.listen(this.cid,this.fadeOut),this.startFadeTimer()},onClickClose:function(){this.fadeOut()},fadeOut:function(t){this.clearFadeTimer(),o.isUndefined(t)&&(t=this.options.fade_duration),this.$el.css("transition","opacity "+t+"ms ease-out"),this.$el.addClass("fade-out"),o.delay(this.destroy,t+100)},startFadeTimer:function(){this.options.duration&&(this.clearFadeTimer(),this.fade_timer=setTimeout(this.fadeOut,this.options.duration))},clearFadeTimer:function(){clearTimeout(this.fade_timer)},onBeforeDestroy:function(){this.clearFadeTimer(),this.options.close_on_escape&&a.unlisten(this.cid),o.isFunction(this.options.close)&&this.options.close.call(this)}});t.exports=u},72:function(t,e,i){"use strict";var n=i(11),o=i(29),s=(i(1).create("button"),n.Collection.extend({constructor:function(t,e){return t instanceof s?s:void n.Collection.apply(this,arguments)},model:o}));t.exports=s},73:function(t,e,i){"use strict";var n=i(3),o=i(30),s=(i(1).create("button"),n.CollectionView.extend({className:"buttons large",childView:o,childViewEventPrefix:"button"}));t.exports=s},74:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o.isString(t))t===o.escape(t)?e.text=t:e.html=t;else{if(!o.isObject(t))throw new Error("Dialog.banner requires (text, {options}), (html, {options}), or ({options}).");e=t}return new s(e)}var o=i(2),s=i(71);i(1).create("dialog","banner");t.exports=n},75:function(t,e,i){"use strict";function n(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!o.isFunction(e))throw new Error("Dialog.confirm requires a handler function.");o.defaults(i,{title:"Confirmation",close_on_escape:!1,glyph:"question",open:function(){var t=this;r.listen(this.cid,function(){t.close(),e.call(t,!1)})},close:function(){r.unlisten(this.cid)},buttons:[{text:"Yes",color:"dark seafoam",className:"fullwidth",default:!0,onClick:function(){e.call(this.dialog,!0),this.dialog.close()}},{text:"No",color:"transparent seafoam",className:"fullwidth",onClick:function(){e.call(this.dialog,!1),this.dialog.close()}}]});var n=s(t,i);return n.ui.close.on("click",function(){e.call(n,!1)}),n}var o=i(2),s=i(18),r=i(17);i(1).create("dialog","confirm");t.exports=n},76:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.defaults(e,{title:"It’s not you, it’s us"}),s(t,e)}var o=i(2),s=i(18);i(1).create("dialog","error");t.exports=n},77:function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.text=t,o.defaults(e,{stacked:!0}),new a(e)}var o=i(2),s=i(23),r=i(31),a=(i(1).create("dialog","loading"),s.extend({behaviors:function(){return{DialogBehavior:r.config({close_button:!1,click_overlay_to_close:!1,className:"loading-dialog"})}}}));t.exports=n},78:function(t,e,i){"use strict";var n=i(14),o=(i(1).create("dialog","model"),n.extend({calculated_values:{show_head:function t(){var t=!1;return(this.get("title")||this.get("close_button"))&&(t=!0),t}}}));t.exports=o},79:function(t,e,i){"use strict";var n=i(3),o=i(14),s=i(7),r=i(1).create("dialog","state"),a=s.dialog,l=n.Object.extend({initialize:function(){var t=this;this.model=new o({count:0}),a.reply("count",function(){return t.model.get("count")},this),a.reply("dialog:is:open",function(){return t.model.get("count")>0},this),this.listenTo(this.model,"change:count",function(t,e){r("count",e),a.trigger("change:count",e)}),this.listenTo(a,"dialog:open",function(){t.incrementCount()}),this.listenTo(a,"dialog:close",function(){t.decrementCount()})},incrementCount:function(){r("incrementCount");var t=this.model.get("count");this.model.set("count",t+1)},decrementCount:function(){r("decrementCount");var t=this.model.get("count");this.model.set("count",t-1)}});t.exports=new l},80:function(t,e,i){e=t.exports=i(8)(),e.push([t.id,".banner{position:fixed;width:100%;height:1px;overflow:visible;left:0;top:60px;z-index:5000;-webkit-transform:translateZ(0)}.banner.fade-out{opacity:0}.profilepage.no-branding .banner{top:20px}.banner .banner-center{float:left;position:relative;left:50%;height:0;overflow:visible}.banner .banner-wrap{float:left;position:relative;left:-50%;padding:0 10px 10px}.banner .banner-content{position:relative;top:0;font-size:16px;border:1px solid #ccc;border-color:rgba(0,0,0,.3);border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.3);padding:10px 40px 10px 20px;max-width:580px}.banner.large .banner-content{padding:20px 40px 20px 20px}.banner .banner-close{width:32px;height:38px;line-height:38px;cursor:pointer;position:absolute;right:0;top:0;filter:alpha(opacity=30);opacity:.3;font-size:17px}.banner.large .banner-close{height:32px;line-height:32px}.no-touchevents .banner .banner-close:hover{filter:alpha(opacity=100);opacity:1}.banner .buttons .button{margin-right:16px}.banner .buttons .button:last-child{margin-right:0}.banner .banner-content .message-content p:first-child{margin-bottom:16px}.banner-small .banner-content{font-size:12px;padding-right:12px;padding-bottom:6px}.banner-small .banner-close{display:none}.banner-confirmation .banner-content{color:#333;background-color:#fff;background-color:hsla(0,0%,100%,.95)}.banner-warning .banner-content{background-color:#e60;background-color:rgba(240,90,0,.95);border-color:#8f3d00;border-color:rgba(0,0,0,.3);color:#fff}.banner-error .banner-content{background-color:#c33;background-color:rgba(204,20,20,.95);border-color:#8e2424;border-color:rgba(0,0,0,.3);color:#fff}.banner-info .banner-content{background-color:#666;background-color:hsla(0,0%,40%,.95);border-color:#333;border-color:rgba(0,0,0,.3);color:#fff}.banner.banner-confirmation .banner-content a,.no-touchevents .banner.banner-confirmation .banner-content a:hover{color:#444}.banner .banner-content a,.no-touchevents .banner .banner-content a:hover{color:#fff;text-decoration:underline}.banner .banner-content .message-content p:last-child{margin-bottom:0}.banner .button{margin-bottom:5px}@media only screen and (max-width:640px){.banner{transition:opacity .5s ease-out}.banner.fadeslow{opacity:0}.banner .banner-center{left:0;float:none}.banner .banner-wrap{left:0;padding-left:20px;padding-right:20px;float:none}.banner.banner-confirmation .banner-content{background-color:#d4e6d5;border-color:rgba(0,0,0,.15)}.banner.banner-confirmation .banner-content .buttons .button:first-child{margin-bottom:5px}}",""])},81:function(t,e,i){e=t.exports=i(8)(),e.push([t.id,'.button{display:inline-block;text-align:center;border-radius:5px;font-size:13px;line-height:28px;padding:0 15px;background-color:#fff;color:#444;cursor:pointer;box-shadow:0 0 0 1px hsla(0,0%,100%,.05),inset 0 0 0 100px rgba(0,0,0,.02);border:1px solid rgba(0,0,0,.15);box-sizing:border-box;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.no-touchevents .button:not([disabled]):hover{color:#444;box-shadow:0 0 0 1px hsla(0,0%,100%,.05)}.button:active:not([disabled]),.no-touchevents .button:active:not([disabled]){transition:box-shadow .1s ease-out;box-shadow:0 0 0 1px hsla(0,0%,100%,.05),inset 0 0 0 1px hsla(0,0%,100%,.5),inset 0 40px 40px -40px rgba(0,0,0,.1)}button.button{font-family:inherit}button.button::-moz-focus-inner{border:0;padding:0}a.button{text-decoration:none!important}.button.xlarge{font-size:18px;line-height:48px;padding:0 30px;font-weight:100}.button.large{font-size:16px;line-height:38px;padding:0 20px}.button.small{font-size:12px;line-height:23px;padding:0 12px}.button.xsmall{font-size:10px;line-height:18px;padding:0 9px}.button.light.white{background-color:#fff}.button.light.grey{background-color:#eee}.button.light.seafoam{background-color:#fff;border:1px solid #66ccb4;color:#40bfa2}.button.dark{color:#fff;background-color:#777}.button.dark.transparent{background-color:rgba(0,0,0,.2)}.no-touchevents .button.dark:not([disabled]):hover{color:#fff}.button.dark.grey{background-color:#777}.button.dark.blue{background-color:#0077b3}.button.dark.red{background-color:#c00}.button.dark.orange{background-color:#fbb829}.button.dark.seafoam{background-color:#2eb897;border-color:rgba(0,0,0,.1)}.no-touchevents .button.dark.seafoam:not([disabled]):hover{border-color:transparent}.menu-content .button.light.white{background-color:#f8f8f8}.no-touchevents .menu-content .button.light.white:not([disabled]):hover{background-color:#fff}.menu-content .button.light.grey{background-color:#e7e7e7}.no-touchevents .menu-content .button.light.grey:not([disabled]):hover{background-color:#eee}.button.dark.outlined,.button.light.outlined,.button.outlined{background-color:transparent;box-shadow:none;transition:border-color .1s ease-out,background-color .1s ease-out}.button.light.outlined{color:#fff;border-color:hsla(0,0%,100%,.7)}.no-touchevents .button.light.outlined:not([disabled]):hover{box-shadow:none;border-color:#fff;background-color:hsla(0,0%,100%,.1)}.button.dark.outlined{color:#555;border-color:#888}.no-touchevents .button.dark.outlined:not([disabled]):hover{color:#333;border-color:#999;box-shadow:none;background-color:rgba(30,30,30,.1)}.button.transparent{border-color:transparent;box-shadow:none;color:#999}.no-touchevents .button.transparent:hover{background-color:#eee;color:#666}.button.dark.branded.facebook{background-color:#3b5998}.button.dark.branded.google{background-color:#4285f4}.button.dark.branded.gplus{background-color:#c63d2d}.button.dark.branded.twitter{background-color:#2ca9e1}.button.dark.branded.linkedin{background-color:#4875b4}.button.dark.branded.instagram{background-color:#517fa4}.button.dark.branded.tumblr{background-color:#456f99}.button.dark.branded.pinterest{background-color:#bd081c}.button.dark{box-shadow:0 0 0 1px hsla(0,0%,100%,.05),inset 0 0 0 100px rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.1)}.no-touchevents .button.dark:not([disabled]):hover{box-shadow:0 0 0 1px hsla(0,0%,100%,.05)}.button.dark:active:not([disabled]),.no-touchevents .button.dark:active:not([disabled]){box-shadow:0 0 0 1px hsla(0,0%,100%,.05),inset 0 0 0 100px rgba(0,0,0,.3)}.button[disabled]{opacity:.4;transition:box-shadow 0ms;box-shadow:0 0 0 1px hsla(0,0%,100%,.1);cursor:default}.button.dark[disabled]{opacity:.2}.button.light.seafoam[disabled]{opacity:.5;border:1px solid rgba(102,204,180,.7)}.button.dark.seafoam[disabled]{opacity:.4}.button .hover-text{display:none}.button.button-hover.button-hovered .hover-text,.no-touchevents .button.button-hover:hover .hover-text{display:inline}.button.button-hover.button-hovered .default-text,.no-touchevents .button.button-hover:hover .default-text{display:none}.buttons{line-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.buttons.large{line-height:40px}.buttons.small{line-height:25px}.buttons .button{margin-right:15px;margin-bottom:10px}.buttons .button.small{margin-right:8px}.buttons .button:last-child{margin-right:0}.buttons.last .button,.buttons:last-child .button{margin-bottom:0}.buttons.center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.buttons.center .button{margin:0 8px 10px}.buttonbar{zoom:1;clear:left}.buttonbar:after{display:block;visibility:hidden;height:0;clear:both;content:"."}.buttonbar>.button{float:left;margin-right:-1px;position:relative;border-radius:0;white-space:nowrap}.no-touchevents .buttonbar>.button:hover{z-index:1}.buttonbar>.button.active,.no-touchevents .buttonbar>.button.active:hover{background-color:#d5e6ef;z-index:2;border-color:#a5b6c0;border-color:rgba(0,0,0,.15);box-shadow:none;cursor:default}.buttonbar>.button.first,.buttonbar>.button:first-child{border-top-left-radius:5px;border-bottom-left-radius:5px}.buttonbar .button.last,.buttonbar>.button:last-child{border-top-right-radius:5px;border-bottom-right-radius:5px;margin-right:0}.buttonbar .buttonbar{clear:none;float:left}.buttonbar .buttonbar .button.last,.buttonbar .buttonbar>.button.first,.buttonbar .buttonbar>.button:first-child,.buttonbar .buttonbar>.button:last-child{border-radius:0}.button .loading-text,.button.loading .default-text{display:none}.button.loading .loading-text{display:inline-block;position:relative;padding-left:calc(1em + 5px)}.button.loading .loading-text:before{content:"";display:block;position:absolute;left:-.4em;top:50%;margin-top:-.65em;width:1.2em;height:1.2em;-webkit-animation:fullrotation 1s infinite linear;animation:fullrotation 1s infinite linear;border-left:.2em solid rgba(0,0,0,.3);border-right:.2em solid rgba(0,0,0,.6);border-bottom:.2em solid rgba(0,0,0,.6);border-top:.2em solid rgba(0,0,0,.6);box-sizing:border-box;border-radius:50%;margin-right:1em}.button.light.seafoam.loading .loading-text:before{border-left:.2em solid rgba(102,204,180,.3);border-right:.2em solid rgba(102,204,180,.6);border-bottom:.2em solid rgba(102,204,180,.6);border-top:.2em solid rgba(102,204,180,.6)}@-webkit-keyframes fullrotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes fullrotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.button.dark.loading .loading-text:before{border-left:.2em solid hsla(0,0%,100%,.3);border-right:.2em solid hsla(0,0%,100%,.8);border-bottom:.2em solid hsla(0,0%,100%,.8);border-top:.2em solid hsla(0,0%,100%,.8)}',""]);
},82:function(t,e,i){e=t.exports=i(8)(),e.push([t.id,'.dialog{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;transition:opacity .1s ease;overflow:visible}.dialog.active{opacity:1}.dialog .dialog-overlay{position:fixed;display:block;left:0;top:0;width:100%;height:100%;background-color:hsla(0,0%,40%,.8);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dialog .dialog-box{position:relative;width:400px;background-color:#fff;border-radius:4px;padding-bottom:25px;box-shadow:0 0 10px rgba(0,0,0,.5);top:120px;margin:0 auto;margin-bottom:50px}@media only screen and (max-width:640px){.dialog .dialog-box{max-width:95vw}}.dialog.has-glyph .dialog-box{padding-bottom:20px}.dialog .dialog-section{padding:20px;padding-top:10px;padding-bottom:0}.dialog .dialog-head{position:relative;padding:0;padding-left:20px;padding-right:70px;line-height:50px;border-bottom:1px solid rgba(0,0,0,.1)}.dialog.has-glyph .dialog-head{padding-top:25px;padding-right:20px;border-bottom:1px solid transparent}.dialog .dialog-glyph{line-height:44px;background-color:#2eb897;color:#fff;font-size:18px}.dialog .dialog-glyph,.dialog.has-glyph .dialog-box:before{height:44px;width:44px;border-radius:50%;display:block;position:absolute;left:calc(50% - 22px);top:-22px}.dialog.has-glyph .dialog-box:before{content:"";box-shadow:0 0 10px rgba(0,0,0,.5);z-index:-2}.dialog .glyph-smiley:before{top:.1em}.dialog .glyph-lightbulb:before{top:1px;left:.7px}.dialog .glyph-hireme:before{left:.5px}.dialog .dialog-title{font-size:18px;font-weight:700}.dialog.has-glyph .dialog-title{text-align:center}.dialog .dialog-close{position:absolute;top:0;right:0;width:50px;height:50px;line-height:50px;font-size:22px;opacity:.3;cursor:pointer}.no-touchevents .dialog .dialog-close:hover{opacity:1}.dialog .dialog-content{font-size:16px;line-height:1.4}.dialog.untitled .dialog-content{padding-top:0}.dialog.has-glyph.untitled .dialog-content{padding-top:10px}.dialog.has-glyph.has-title .dialog-content{padding-top:0}.dialog.has-glyph .dialog-content{text-align:center}.dialog .dialog-buttons{padding-top:20px}.dialog .dialog-buttons .buttons{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.dialog .dialog-buttons .button.large{min-width:80px}.dialog .dialog-buttons .button.fullwidth{margin-bottom:10px}.dialog .dialog-buttons .button.fullwidth:last-child{margin-bottom:0}.dialog .dialog-buttons .button.transparent{border-color:transparent;box-shadow:none;color:#999}.no-touchevents .dialog .dialog-buttons .button.transparent:hover{background-color:#eee;color:#666}.dialog.loading-dialog .loading-view{font-size:20px;min-height:150px}',""])},83:function(t,e,i){var n=i(80),o=i(9);"string"==typeof n&&(n=[[t.id,n,""]]),t.exports=n.locals||{},t.exports._getContent=function(){return n},t.exports._getCss=function(){return n.toString()},t.exports._insertCss=function(t){return o(n,t)}},84:function(t,e,i){var n=i(81),o=i(9);"string"==typeof n&&(n=[[t.id,n,""]]),t.exports=n.locals||{},t.exports._getContent=function(){return n},t.exports._getCss=function(){return n.toString()},t.exports._insertCss=function(t){return o(n,t)}},85:function(t,e,i){var n=i(82),o=i(9);"string"==typeof n&&(n=[[t.id,n,""]]),t.exports=n.locals||{},t.exports._getContent=function(){return n},t.exports._getCss=function(){return n.toString()},t.exports._insertCss=function(t){return o(n,t)}},86:function(t,e){t.exports=".dialog.[[ data.id ]] .dialog-box {\n    <: if (_.isNumber(data.dialog.top)) { :>\n        top: [[ data.dialog.top ]]px;\n    <: } else if (_.isString(data.dialog.top)) { :>\n        top: [[ data.dialog.top ]];\n    <: } :>\n    <: if (_.isNumber(data.dialog.width)) { :>\n        width: [[ data.dialog.width ]]px;\n    <: } else if (_.isString(data.dialog.width)) { :>\n        width: [[ data.dialog.width ]];\n    <: } :>\n}\n\n.dialog.[[ data.id ]] .dialog-content {\n    <: if (_.isNumber(data.dialog.height)) { :>\n        height: [[ data.dialog.height ]]px;\n    <: } else if (_.isString(data.dialog.height)) { :>\n        height: [[ data.dialog.height ]];\n    <: } :>\n}\n"},87:function(t,e,i){i(10);t.exports=function(t){var e="";Array.prototype.join;return e+='<div class="banner-center">\n    <div class="banner-wrap">\n        <div class="banner-content">\n            ',t.options.close_button&&(e+='\n                <div class="banner-close glyph-close glyph-center">&nbsp;</div>\n            '),e+='\n            <div class="message-content"></div>\n        </div>\n    </div>\n</div>\n'}},88:function(t,e,i){var n=i(10);t.exports=function(t){var e,i="";Array.prototype.join;return i+='<span class="default-text">'+(null==(e=t.text)?"":n.escape(e))+'</span>\n<span class="loading-text">'+(null==(e=t.loading_text||t.text)?"":n.escape(e))+"</span>\n"}},89:function(t,e,i){var n=i(10);t.exports=function(t){var e,i="";Array.prototype.join;return i+="",t.show_overlay&&(i+='\n    <div class="dialog-overlay"></div>\n'),i+='\n\n<div class="dialog-box">\n\n<div class="dialog-section dialog-head">\n    <div class="dialog-title">'+(null==(e=t.title)?"":n.escape(e))+"</div>\n    ",t.close_button&&(i+='\n        <div class="dialog-close glyph-center glyph-close"></div>\n    '),i+="\n    ",t.glyph&&(i+='\n        <div class="dialog-glyph glyph-center glyph-'+(null==(e=t.glyph)?"":e)+'"></div>\n    '),i+='\n</div>\n\n<div class="dialog-section dialog-content"></div>\n\n',t.buttons&&(i+='\n    <div class="dialog-section dialog-buttons"></div>\n'),i+="\n\n</div>\n"}},95:function(t,e,i){"use strict";var n=i(11),o=i(2),s=i(14),r=i(33),a=(i(1).create("freeform","form"),s.extend({defaults:{display_errors:!0,error_class:"error",display_confirmations:!0,confirmation_class:"confirmation",submitting:!1},constructor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setupElements(t),n.Model.apply(this,[t,e]),this.listenTo(this,"change:related_model",this.onChangeRelatedModel)},setupElements:function(t){if(o.isArray(t.elements)&&(t.elements=new r(t.elements)),!(t.elements instanceof r))throw new Error("Form.elements must be an array or an ElementList");return t.related_model&&t.elements.setRelatedModel(t.related_model),t},onChangeRelatedModel:function(t,e,i){this.get("elements").setRelatedModel(e)},validators:{elements:function(t){var e=void 0,i=this.get("validator");return o.isFunction(i)&&(e=i.call(this)),e?e:(t.each(function(t){e||(t.validateElement(),t.validationError&&(e=t.validationError))}),e?e:void 0)}}}));t.exports=a},96:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=i(15),s=n(o),r=i(3),a=i(2),l=i(13),c=i(42),d='\n    <span class="default-text">{{ data.label }}</span>\n    <span class="loading-text">{{ data.loading_label }}</span>\n',u=r.View.extend({tagName:"button",template:a.template(d),className:function t(){var e=this.model.toJSON(),t=(0,s.default)([e.className],{disabled:e.disabled||e.loading,loading:e.loading});return t},setClassName:function(){var t=a.result(this,"className");this.$el.attr("class",t)},attribute_keys:["type","id","name","disabled"],ui:{label:".default-text",loading_label:".loading-text"},constructor:function(){if(r.View.apply(this,arguments),!(this.model instanceof l))throw new Error("InputView requires an Element model.");this.listenTo(this,"render",this.setAttributes),this.listenTo(this,"render",this.setClassName),this.listenTo(this.model,"change:label",this.onChangeLabel),this.listenTo(this.model,"change:loading_label",this.onChangeLoadingLabel),this.listenTo(this.model,"change:loading",this.onChangeLoading),this.listenTo(this.model,"change:disabled",this.onChangeDisabled),this.listenTo(this.model,"change:className",this.setClassName)},triggers:function t(){var t={},e=this.model.get("trigger");return e&&(t.click={event:e,preventDefault:!1,stopPropagation:!1}),t},onChangeLabel:function(t,e){this.ui.label.text(e)},onChangeLoadingLabel:function(t,e){this.ui.loading_label.text(e)},onChangeLoading:function(t,e){this.setAttributes(),this.setClassName()},onChangeDisabled:function(t,e){this.setAttributes(),this.setClassName()}});a.extend(u.prototype,c),t.exports=u},97:function(t,e,i){"use strict";var n=i(2),o=i(3),s=o.View.extend({tagName:"label",className:function(){return this.options.className},template:n.template("{{ data.label }}"),templateContext:function(){return{label:this.options.label}},attributes:function(){return{for:this.options.for}}});t.exports=s},112:function(t,e,i){"use strict";var n=i(13),o=n.extend({validateConstructor:function(t){if(!t.input||!t.button)throw new Error("Buttonfield Element requires an input and a button.");var e=i(40);return t.input instanceof n||(t.input=new e(t.input)),t.button instanceof n||(t.button=new e(t.button)),t},initializeElement:function(){var t=this,e=this.get("input");e.set("value",this.get("value")),this.on("change:value",function(t,i,n){e.set("value",i)}),this.listenTo(e,"change:value",function(e,i,n){t.set("value",i)})}});t.exports=o},113:function(t,e,i){"use strict";var n=i(2),o=i(13),s=o.extend({validateConstructor:function(t){if(!t.buttons)throw new Error("Buttonset Element requires a list of buttons.");var e=i(33);if(n.isArray(t.buttons)&&(t.buttons=new e(t.buttons)),!(t.buttons instanceof e))throw new Error("Buttonset Element requires a list of buttons.");return t}});t.exports=s},114:function(t,e,i){"use strict";var n=i(13),o=n.extend({elementEvents:{"change:checked":"validateElement"}});t.exports=o},115:function(t,e,i){"use strict";var n=i(2),o=i(13),s=o.extend({validateConstructor:function(t){if(n.isUndefined(t.value))throw new Error("Radio Element requires a value.");return t}});t.exports=s},116:function(t,e,i){"use strict";var n=i(2),o=i(11),s=i(13),r=s.extend({validateConstructor:function(t){if(!t.values)throw new Error("Radioset Element requires a list of values.");var e=i(33);if(t.values instanceof e)return t;if(t.values instanceof o.Collection&&(t.values=t.values.toJSON()),n.isArray(t.values)&&(t.values.forEach(function(t){t.type="radio"}),t.values=new e(t.values)),!(t.values instanceof e))throw new Error("RadioSet Element requires a list of values.");return t},initializeElement:function(){this.radios=this.get("values"),this.setRadioNames(),this.setCheckedRadio(),this.listenTo(this.radios,"change:checked",this.onRadioChangeChecked),this.listenTo(this,"change:value",this.setCheckedRadio)},onRadioChangeChecked:function(t,e,i){e&&this.set("value",t.get("value"))},setRadioNames:function(){var t=this;this.radios.each(function(e){e.set({name:t.get("name")})},this)},setCheckedRadio:function(){var t=this.get("value"),e=this.radios.findWhere({checked:!0});e&&e.get("value")!==t&&e.set("checked",!1);var i=this.radios.findWhere({value:t});i&&i.set("checked",!0)}});t.exports=r},117:function(t,e,i){"use strict";var n=i(2),o=i(11),s=i(13),r=s.extend({validateConstructor:function(t){if(!t.values)throw new Error("Select Element requires a list of values.");if(n.isArray(t.values)&&(t.values=new o.Collection(t.values)),!(t.values instanceof o.Collection))throw new Error("Select Element requires a list of values.");return t},initializeElement:function(){this.setSelectedOption(),this.on("change:value",this.setSelectedOption)},setSelectedOption:function(){var t=this.get("values");t.each(function(t){t.unset("selected")});var e=t.findWhere({value:this.get("value")});e&&e.set("selected",!0)}});t.exports=r},118:function(t,e,i){"use strict";var n=i(13),o=i(112),s=i(113),r=i(114),a=i(115),l=i(116),c=i(117),d={button:n,buttonfield:o,buttonset:s,checkbox:r,email:n,url:n,password:n,radio:a,radioset:l,reset:n,search:n,select:c,submit:n,tel:n,text:n,number:n,textarea:n};t.exports=d},119:function(t,e,i){"use strict";var n=i(11),o=i(3),s=i(2),r=i(95),a=i(41),l=i(35),c=i(1).create("freeform","form_view"),d=o.View.extend({tagName:"form",elementView:a,formViewEvents:{render:"renderForm"},triggers:{submit:"validate:and:submit",reset:{event:"form:reset",preventDefault:!1,stopPropagation:!1}},constructor:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.model=this.setupFormModel(t.model),t.elementView&&(this.elementView=t.elementView),this.validateElementView(),o.View.call(this,t),o.bindEvents(this,this,this.formViewEvents)},setupFormModel:function(t){return t instanceof r?t:t instanceof n.Model?new r(t.attributes):t},validateElementView:function(){if(this.elementView!==a&&!(this.elementView.prototype instanceof a))throw new Error("FormView.elementView must be an ElementView.")},renderForm:function(){this.triggerMethod("before:render:form"),this.addElementViews(),this.bindUIElements(),this.triggerMethod("render:form")},onFormReset:function(){var t=this;s.defer(function(){t.$("input, select, textarea").trigger("change")})},addElementViews:function(){var t=this.model.get("elements");t.each(this.addElementView,this)},addElementView:function(t){var e=this.getElementView(t),i=new e({el:this.$(t.get("el")),model:t,form:this.model});i.render()},getElementView:function(t){if(t.get("raw")){var e=t.get("type"),i=l[e];if(i)return i;throw new Error("No raw InputView defined for type "+e)}return this.elementView},reset:function(){this.$el.trigger("reset")},submit:function(){this.$el.trigger("submit")},onValidateAndSubmit:function(){c("onValidateAndSubmit"),this.model.get("submitting")||(this.triggerMethod("before:form:submit"),this.$("input, select, textarea").trigger("change"),this.model.isValid()?(this.onFormSubmit||c("Form is valid. Implement your own onFormSubmit handler to do something with the form data."),this.triggerMethod("form:submit")):(c("Form is not valid.",this.model.validationError),this.triggerMethod("form:submit:error")))}});t.exports=d},120:function(t,e,i){"use strict";var n=i(2),o=i(3),s=i(13),r=o.View.extend({tagName:"span",template:n.template("<input><button></button>"),ui:{input:"input",button:"button"},constructor:function(){if(o.View.apply(this,arguments),!(this.model instanceof s))throw new Error("InputView requires an Element model.");this.listenTo(this,"render",this.setAttributes);var t=this.model.get("className");t&&this.$el.addClass(t)},onRender:function(){var t=i(35),e=this.model.get("input"),n=t[e.get("type")];this.input_view=new n({el:this.ui.input,model:e}),this.input_view.render();var o=this.model.get("button"),s=t[o.get("type")];this.button_view=new s({el:this.ui.button,model:o}),this.button_view.render()}});t.exports=r},121:function(t,e,i){"use strict";var n=i(3),o=i(13),s=i(96),r=n.CollectionView.extend({tagName:"span",childView:s,constructor:function(t){if(n.CollectionView.call(this,t),!(this.model instanceof o))throw new Error("InputView requires an Element model.");this.collection=this.model.get("buttons"),this.listenTo(this.model,"change:value",this.onModelChangeValue);var e=this.model.get("className");e&&this.$el.addClass(e)}});t.exports=r},122:function(t,e,i){"use strict";var n=i(2),o=i(34),s=o.extend({attribute_keys:["type","id","name","disabled","checked","value"],constructor:function(){o.apply(this,arguments),this.listenTo(this.model,"change:checked",this.onModelChangeChecked)},onInputChange:function(){var t=this.$el.is(":checked");this.model.set("checked",t)},getInputValue:function(){var t=this.$el.is(":checked"),e=this.model.get("value");return n.isFunction(e)?e.call(this,t):t?e:void 0},onModelChangeChecked:function(t,e){this.$el.prop("checked",e)}});t.exports=s},123:function(t,e,i){"use strict";var n=i(6),o=i(2),s=i(34),r=s.extend({attribute_keys:["type","id","name","disabled","checked","value"],constructor:function(){var t=this;s.apply(this,arguments),this.listenTo(this.model,"change:checked",this.onModelChangeChecked),n.body.on("click."+this.cid,"input[type=radio][name="+this.model.get("name")+"]",o.bind(this.onInputRadioClick,this)),this.on("destroy",function(){n.body.off("click."+t.cid)})},onInputRadioClick:function(t){t.target!==this.el&&this.model.set("checked",!1)},onInputChange:function(){var t=this.$el.is(":checked");this.model.set("checked",t)},getInputValue:function(){var t=this.$el.is(":checked"),e=this.model.get("value");if(t)return e},setInputValue:function(t){this.$el.attr("value",t)},onModelChangeChecked:function(t,e,i){this.$el.prop("checked",e)}});t.exports=r},124:function(t,e,i){"use strict";var n=i(3),o=i(13),s=n.CollectionView.extend({_class:"InputRadiosetView",tagName:"fieldset",childView:function(){var t=i(41);return t},constructor:function(t){if(!(t.model instanceof o))throw new Error("InputView requires an Element model.");t.collection=t.model.get("values"),n.CollectionView.call(this,t),this.listenTo(this.model,"change:value",this.onModelChangeValue),this.listenTo(this,"render",this.setAttributes);var e=this.model.get("className");e&&this.$el.addClass(e)}});t.exports=s},125:function(t,e,i){"use strict";var n=i(11),o=i(3),s=i(2),r=i(13),a=i(42),l=o.View.extend({tagName:"option",template:s.template("{{ data.label }}"),attribute_keys:["value","disabled","selected"]});s.extend(l.prototype,a);var c=o.CollectionView.extend({tagName:"select",childView:l,childViewOptions:function(){return{selected:this.model.get("value")}},constructor:function(t){if(!(t.model instanceof r))throw new Error("InputView requires an Element model.");t.collection=t.model.get("values"),o.CollectionView.call(this,t),this.listenTo(this.model,"change:value",this.onModelChangeValue),this.listenTo(this,"render",this.setAttributes),this.listenTo(this,"render",this.showPlaceholder);var e=this.model.get("className");e&&this.$el.addClass(e)},attribute_keys:["id","name","disabled"],triggers:{change:"input:change"},showPlaceholder:function(){if(this.model.get("placeholder")){var t=new n.Model({value:"",label:this.model.get("placeholder"),disabled:!0}),e=new this.childView({model:t});this.addChildView(e,0)}},onInputChange:function(){var t=this.getInputValue();this.model.set("value",t,{from:this})},getInputValue:function(){return this.$el.val()},setInputValue:function(t){return this.$el.val(t)},onModelChangeValue:function(t,e,i){i.from!==this&&this.$el.val(e)}});s.extend(c.prototype,a),t.exports=c},126:function(t,e,i){"use strict";var n=i(34),o=n.extend({attribute_keys:["type","id","name","value","size","placeholder","maxlength","spellcheck","disabled","autocapitalize","autocomplete","autocorrect"],triggers:{change:"input:change",keydown:{event:"input:change",preventDefault:!1,stopPropagation:!1},keyup:{event:"input:change",preventDefault:!1,stopPropagation:!1}}});t.exports=o},127:function(t,e,i){"use strict";var n=i(2),o=i(34),s=o.extend({tagName:"textarea",template:n.template("{{ data.value }}"),attribute_keys:["id","name","rows","cols","placeholder","maxlength","disabled"],triggers:{change:"input:change",keydown:{event:"input:change",preventDefault:!1,stopPropagation:!1},keyup:{event:"input:change",preventDefault:!1,stopPropagation:!1}}});t.exports=s},128:function(t,e,i){i(10);t.exports=function(t){var e="";Array.prototype.join;return e+="",t.show_label_before&&(e+='\n    <span class="label-region"></span>\n'),e+='\n\n    <span class="input-region"></span>\n\n',t.show_label_after&&(e+='\n    <span class="label-region"></span>\n'),e+="\n\n",(t.show_confirmation||t.show_error)&&(e+='\n    <span class="status-region"></span>\n'),e+="\n"}},149:function(t,e,i){"use strict";function n(t){o.editpanel.trigger("error",t)}var o=i(7);t.exports=n},240:function(t,e,i){"use strict";function n(t){var e=t;return o.contains(s,t)&&(e="the "+t),e}var o=i(2),s=["United States","United Kingdom","Former Yugoslav Republic of Macedonia","Bahamas","Gambia","Union of the Comoros","Republic of the Congo","Democratic Republic of the Congo","Marshall Islands","Republic of the Marshall Islands","Kingdom of the Netherlands","Republic of the Philippines","Republic of the Sudan","Netherlands","Philippines","Sudan","Russian Federation","United Arab Emirates","Maldives","Seychelles","Solomon Islands","Czech Republic","Dominican Republic"];t.exports=n},249:function(t,e,i){"use strict";function n(t){var e=[],i=["sublocality","locality","administrative_area_level_1"];return i.forEach(function(i){t.components.forEach(function(t){l.contains(t.types,i)&&e.push(t.long_name)})}),l.first(e)}function o(t){var e=[],i=["administrative_area_level_1"];return i.forEach(function(i){t.components.forEach(function(t){if(l.contains(t.types,i)){var n=t.long_name;"District of Columbia"===n&&(n=t.short_name),e.push(n)}})}),l.first(e)}function s(t){var e=[],i=["country"];return i.forEach(function(i){t.components.forEach(function(t){l.contains(t.types,i)&&e.push(t.long_name)})}),l.first(e)}function r(t){var e=n(t),i=o(t),r=s(t),a=[];return e&&a.push(e),"United States"!==r&&"Canada"!==r||i&&a.push(i),a.length&&"United States"!==r&&a.push(r),a.length||a.push(c(r)),a=l.uniq(a),a.join(", ")}function a(t){return"google"===t.source?r(t):t.location}var l=i(2),c=i(240);t.exports=a},510:function(t,e){"use strict";t.exports=[{interest:"Photography"},{interest:"Technology"},{interest:"Design"},{interest:"Music"},{interest:"Entrepreneurship"},{interest:"Travel"},{interest:"Arts"},{interest:"Reading"},{interest:"Food"},{interest:"Movies"},{interest:"Cycling"},{interest:"Writing"},{interest:"Running"},{interest:"Fitness"},{interest:"Coffee"},{interest:"Politics"},{interest:"Hiking"},{interest:"Programming"},{interest:"Web Development"},{interest:"Innovation"},{interest:"Education"},{interest:"DIY"},{interest:"Cooking"},{interest:"Acting"},{interest:"Dance"},{interest:"Yoga"},{interest:"Painting"},{interest:"Homesteading"},{interest:"Causes"},{interest:"Volunteering"},{interest:"Animals"},{interest:"Fashion"},{interest:"Shopping"},{interest:"Sports"},{interest:"Dogs"},{interest:"Cats"},{interest:"Volleyball"},{interest:"Cricket"},{interest:"Baseball"},{interest:"Basketball"},{interest:"Rugby"},{interest:"Soccer"},{interest:"Football"},{interest:"Martial Arts"},{interest:"Wine"},{interest:"Crafts"},{interest:"Knitting"},{interest:"Sewing"},{interest:"Baking"},{interest:"Outdoors"},{interest:"Gaming"},{interest:"Video Games"},{interest:"Astronomy"},{interest:"Camping"},{interest:"Surfing"},{interest:"Swimming"},{interest:"Snowboarding"},{interest:"Skiing"},{interest:"Sailing"},{interest:"Gardening"},{interest:"Singing"}]},512:function(t,e){"use strict";t.exports=[{role:"Student"},{role:"Web Developer"},{role:"Software Engineer"},{role:"Project Manager"},{role:"Consultant"},{role:"Designer"},{role:"Art Director"},{role:"Artist"},{role:"Architect"},{role:"Teacher"},{role:"Writer"},{role:"Editor"},{role:"Director"},{role:"Mother"},{role:"Father"},{role:"Musician"},{role:"Dancer"},{role:"Photographer"},{role:"Filmmaker"},{role:"Actor"},{role:"Chef"},{role:"Barista"},{role:"Volunteer"},{role:"Doctor"},{role:"Nurse"},{role:"Realtor"},{role:"Attorney"},{role:"Therapist"},{role:"Psychologist"},{role:"Small Business Owner"},{role:"Aesthetician"},{role:"Hair Stylist"},{role:"Acupuncturist"},{role:"Fitness Instructor"},{role:"Personal Trainer"},{role:"Social Media Manager"},{role:"Public Speaker"},{role:"Life Coach"},{role:"Recruiter"}]},850:function(t,e,i){"use strict";var n=i(6);n.body.on("focus","[contenteditable]",function(){var t=n(this);return t.data("before",t.html()),t}).on("blur keyup paste input","[contenteditable]",function(){var t=n(this),e=t.html();return t.data("before")!==e&&(t.data("before",e),t.trigger("change")),t})},854:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(6),r=i(1537),a=i(1010);i(1).create("editable");i(850);var l=i(1528),c=i(1456),d=n.View.extend({styles:[l,c],template:o.template("{{ data.content }}"),templateContext:function(){return{content:this.options.content}},onRender:function(){var t=this.options.editor_options;o.defaults(t,{placeholder:{text:""},toolbar:!1,disableDoubleReturn:!0,targetBlank:!0,paste:{forcePlainText:!0,cleanPastedHTML:!0}}),this.editor=new r(this.el,t),this.updateAnchorMethods()},updateAnchorMethods:function(){var t=this.editor.getExtensionByName("anchor");t&&(o.extend(t,a),t.rebindEvents(),s(t.getForm()).find("input").attr("type","url"))},getContent:function(){return this.$el.text()},events:{change:"onChange"},onChange:function(){var t=this.getContent();this.trigger("change",t)},onBeforeDestroy:function(){this.editor.destroy()}});t.exports=d},1010:function(t,e,i){"use strict";var n=i(146),o=i(27),s=(i(1).create("editable"),{rebindEvents:function(){var t=this.getForm().querySelector(".medium-editor-toolbar-input");this.off(t,"keyup"),this.on(t,"keyup",this.handleTextboxKeyup.bind(this))},doFormSave:function(){var t=this.getFormOpts(),e=t.url;return"string"==typeof e&&(!!(e=e.trim())&&(e=(0,n.addSchema)(e),!!(0,n.isURL)(e)&&(t.url=e,void this.completeFormSave(t))))},handleTextboxKeyup:function(t){return t.keyCode===o.ENTER?(t.preventDefault(),void this.doFormSave()):void(t.keyCode===o.ESCAPE&&(t.stopPropagation(),this.doFormCancel()))}});t.exports=s},1011:function(t,e,i){"use strict";var n=i(1012),o=i(854);t.exports={HtmlView:n,TextView:o}},1012:function(t,e,i){"use strict";var n=i(2),o=i(854);i(850);var s=(i(1).create("editable"),o.extend({template:n.template("[[ data.content ]]"),getContent:function(){var t=this.editor.serialize();return t=n.map(t,function(t){return t.value}),t=t.join("")}}));t.exports=s},1036:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=i(241),s=n(o),r=i(3),a=i(2),l=i(6),c=i(1464),d=i(14),u=i(39),h=i(1687),p=i(22),f=i(36),m=i(149),g=i(1011),b=i(38),v=i(1037),w=i(92),x=i(7),y=i(1).create("editpanel"),C=x.metrics_editpanel,E=g.HtmlView.extend({}),k=r.View.extend({styles:c,className:"editsubview bio "+c.scope,template:h,behaviors:{DestroyOnEscape:b.config({method:"close"})},initialize:function(t){this.user=t.user,this.last_valid_attributes=this.user.pick("bio"),a.bindAll(this,"onSaveError","confirmClose","destroy"),this.view_model=new d({error:""}),this.listenTo(this.view_model,"change:error",this.onChangeError),this.listenTo(x.edit_guide,"show:guide",this.onShowGuide),this.listenTo(x.edit_guide,"hide:guide",this.onHideGuide),this.listenTo(x.editpanel,"bio:preset:pick",this.fillPreset)},regions:{presets_region:".presets-container",editor_region:".editor-container",error_region:".error-container",save_button_region:".save-button-container",cancel_button_region:".cancel-button-container"},onRender:function(){this.showEditor(),this.showPresets(),this.showButtons()},showEditor:function(){this.editable_view=new E({className:"bio-editor",content:"",editor_options:{placeholder:{text:""},anchorPreview:!1,toolbar:{static:!0,relativeContainer:this.$(".tools-container").get(0),align:"right",updateOnEmptySelection:w.is("touch"),buttons:[{name:"anchor",contentDefault:"",formSaveLabel:'<span class="button small dark seafoam">Done</span>',formCloseLabel:'<span class="button small outlined light">Cancel</span>',classList:["glyph-link"]}]},anchor:{linkValidation:!0}}}),this.listenTo(this.editable_view,"change",this.onChangeContent),this.showChildView("editor_region",this.editable_view)},showPresets:function(){this.presets=new v({user:this.user,region:this.getRegion("presets_region"),editable_view:this.editable_view})},showButtons:function(){this.save_button=new f.Model({text:"Save",loading_text:"Saving…",color:"dark seafoam",className:"fullwidth"}),this.cancel_button=new f.Model({text:"Cancel",color:"outlined",className:"fullwidth"}),this.save_button_view=new f.View({model:this.save_button}),this.cancel_button_view=new f.View({model:this.cancel_button}),this.listenTo(this.save_button_view,"click",this.save),this.listenTo(this.cancel_button_view,"click",this.cancel),this.showChildView("save_button_region",this.save_button_view),this.showChildView("cancel_button_region",this.cancel_button_view)},onAttach:function(){var t=(0,s.default)(this.user.get("bio"));this.editable_view.$el.html(t),this.guide_options={id:"bio",relativeTo:this.ui.guide,$width_el:this.$el},x.edit_guide.request("can:show:guide",this.guide_options),t.length<=7&&x.editpanel.trigger("bio:preset:pick",x.editpanel.request("bio:preset:casual"))},fillPreset:function(t){var e=t.get("preset_string");this.editable_view.$el.html(e),this.onChangeContent(e)},onChangeContent:function(t){var e=(0,s.default)(t);this.user.set("bio",e);var i="",n=(0,s.default)(t,{maxlength:0});n.length>e.length&&(i="Your bio exceeds the 2500 character limit."),this.view_model.set("error",i)},onChangeError:function(t,e){e?(this.showChildView("error_region",new u.LabelView({label:e,className:"error"})),this.save_button.set("disabled",!0)):(this.detachChildView("error_region"),this.save_button.set("disabled",!1))},ui:{back:".back",guide:".guide-button",content:".subview-content"},events:{"click @ui.back":"close","click @ui.guide":"toggleGuide"},save:function(){var t=this,e=this.view_model.get("error");if(e)throw new Error(e);var i={bio:(0,s.default)(this.editable_view.getContent())};this.save_button.set({disabled:!0,loading:!0}),this.user.patch(i).done(function(){i.bio&&!t.last_valid_attributes.bio&&C.trigger("bio:added"),i.bio!==t.last_valid_attributes.bio&&x.editpanel.trigger("bio:saved"),t.last_valid_attributes=i,t.save_button.set({loading:!1,text:"Saved!"}),a.delay(t.destroy,500)}).fail(this.onSaveError)},onSaveError:function(t){m(t)},close:function(){if(this.view_model.get("error"))return void this.destroy();var t=(0,s.default)(this.last_valid_attributes.bio),e=(0,s.default)(this.editable_view.getContent());e!==t?this.showConfirmDialog():this.destroy()},showConfirmDialog:function(){y("confirmClose"),l(document.activeElement).blur(),p.confirm("Would you like to save your changes?",this.confirmClose,{button_labels:["Save Changes","Discard"]})},confirmClose:function(t){t?this.save():this.destroy()},toggleGuide:function(){x.edit_guide.request("toggle:guide",this.guide_options)},onShowGuide:function(t){this.ui.content.addClass("fade"),this.ui.guide.addClass("fade")},onHideGuide:function(){this.ui.content.removeClass("fade"),this.ui.guide.removeClass("fade")},onBeforeDestroy:function(){this.user.set(this.last_valid_attributes),this.presets.destroy(),x.edit_guide.request("can:hide:guide",this.guide_options)},cancel:function(){this.destroy()}});t.exports=k},1037:function(t,e,i){"use strict";var n=i(1040),o=i(498),s=i(3),r=i(1038),a=i(1039),l=i(7),c=(i(1).create("bio presets"),l.metrics_editpanel),d=s.Object.extend({initialize:function(t){var e=this,i=t.user.toJSON();this.presets_collection=new o.Collection(r),this.strings={first_name:(0,n.getFirstNameString)(i),location:(0,n.getLocationString)(i),role:(0,n.getRoleString)(i),roles:(0,n.getRolesString)(i),company:(0,n.getCompanyString)(i),interests:(0,n.getInterestsString)(i),secondary_interests:(0,n.getSecondaryInterestsString)(i),interests_range:(0,n.getInterestsRangeString)(i),secondary_interests_range:(0,n.getSecondaryInterestsRangeString)(i),spotlight:(0,n.getSpotlightString)(i).toLowerCase(),social_status:(0,n.getSocialLinksStatus)(i)},this.setPresetStrings();var s=new a({collection:this.presets_collection});this.options.region.show(s),this.listenTo(l.editpanel,"bio:saved",this.checkActiveStateForMetrics),this.listenTo(this.options.editable_view,"change",this.setCurrentActive),this.listenTo(l.editpanel,"bio:preset:pick",this.setPresetClicked),l.editpanel.reply("bio:preset:casual",function(){var t=e.presets_collection.findWhere({type:"general"});return t.set("active",!0),t})},setPresetStrings:function(){var t=this;this.presets_collection.each(function(e){e.set("preset_string",t.getPresetString(e))}),this.setInitialActive()},getPresetString:function(t){return t.toJSON().preset(this.strings).trim()},setInitialActive:function(){this.setActive(this.options.user.get("bio"))},preset_clicked:!1,setPresetClicked:function(t){this.preset_clicked=t},setCurrentActive:function(t){t.length<=7&&(this.preset_clicked=!1),this.setActive(t)},setActive:function(t){var e=this.presets_collection.findWhere({active:!0});e&&e.set("active",!1),this.presets_collection.each(function(e){e.get("preset_string")===t&&e.set("active",!0)})},
checkActiveStateForMetrics:function(){var t=this.presets_collection.findWhere({active:!0});t?c.trigger("bio:preset:chosen",{type:t.get("type")}):!t&&this.preset_clicked&&c.trigger("bio:preset:edited",{type:this.preset_clicked.get("type")})}});t.exports=d},1038:function(t,e,i){"use strict";function n(){var t=["Hi","Hello","Hey","Hey there","Howdy","Greetings","What’s up"];return t[s.random(t.length-1)]}var o=i(630),s=i(2);t.exports=[{type:"general",label:"Casual",preset:function(t){var e=["<p>"];return t.first_name&&e.push(n()+", I’m "+t.first_name+". "),t.role?(e.push("I’m "+(0,o.getAOrAn)(t.role)+" "+t.role),t.company&&e.push(" at "+t.company),t.location&&e.push(" living in "+t.location),e.push(".")):t.company?(e.push("I work at "+t.company),t.location&&e.push(" and live in "+t.location),e.push(".")):t.location&&e.push(" I live in "+t.location+"."),t.interests&&e.push(" I am a fan of "+t.interests+"."),t.secondary_interests&&e.push(" I’m also interested in "+t.secondary_interests+"."),t.spotlight&&e.push(" You can "+t.spotlight+" with a click on the button above."),e.push("</p>"),e.join("")}},{type:"professional",label:"Professional",preset:function(t){var e=["<p>"];return t.roles?(e.push("I am "+(0,o.getAOrAn)(t.roles)+" "+t.roles),t.company&&e.push(" at "+t.company),t.location&&e.push(" currently living in "+t.location),e.push(".")):t.company?(e.push("I work at "+t.company),t.location&&e.push(" and currently live in "+t.location),e.push(".")):t.location&&e.push("I currently live in "+t.location+"."),t.interests_range&&e.push(" My interests "+t.interests_range+"."),t.secondary_interests_range&&e.push(" I am also interested in "+t.secondary_interests_range+"."),e.push("</p><p>"),t.spotlight&&e.push("You can click the button above to "+t.spotlight+"."),t.social_status&&e.push(" If you’d like to get in touch, feel free to say hello through any of the social links below."),e.push("</p>"),e.join("")}}]},1039:function(t,e,i){"use strict";var n=i(3),o=i(2),s=i(7),r=n.View.extend({tagName:"li",className:function(){var t=[];return this.model.get("active")&&t.push("active"),t.join(" ")},triggers:{click:"click"},template:o.template("{{ data.label }}"),initialize:function(){this.listenTo(this.model,"change:active",this.updateClassName)},updateClassName:function(){var t=o.result(this,"className");this.$el.attr("class",t)}}),a=n.CollectionView.extend({tagName:"ul",childView:r,className:"presets",childViewOptions:function(){return this.options.strings},childViewEvents:{click:"onClickItem"},onClickItem:function(t){var e=this.collection.findWhere({active:!0});e&&e.set("active",!1),t.model.set("active",!0);var i=t.model;s.editpanel.trigger("bio:preset:pick",i)}});t.exports=a},1040:function(t,e,i){"use strict";function n(t){return t.first_name||""}function o(t){var e="";return t.locations&&t.locations[0]&&(e=g(t.locations[0])),e}function s(t){var e="";return t.roles&&t.roles[0]&&(e=t.roles[0].role),m.contains(x,e)&&!m.contains(y,e)&&(e=e.toLowerCase()),e}function r(t){var e=[],i=t.roles;return i.forEach(function(t,n){var o=t.role;m.contains(x,o)&&!m.contains(y,o)&&(o=o.toLowerCase()),i.length>1&&n===i.length-1&&e.push("and "),e.push(o),i.length>2&&n<i.length-1&&e.push(","),i.length>1&&n<i.length-1&&e.push(" ")}),e.join("")}function a(t){var e="";return t.jobs[0]&&(e=t.jobs[0].job),e}function l(t){var e=[],i=t.interests.slice(0,3);return i.forEach(function(t,n){var o=t.interest;m.contains(w,o)&&!m.contains(C,o)&&(o=o.toLowerCase()),i.length>1&&n===i.length-1&&e.push("and "),e.push(o),i.length>2&&n<i.length-1&&e.push(","),i.length>1&&n<i.length-1&&e.push(" ")}),e.join("")}function c(t){var e=[],i=[];return t.interests[3]&&i.push(t.interests[3]),t.interests[4]&&i.push(t.interests[4]),i.forEach(function(t,n){var o=t.interest;m.contains(w,o)&&!m.contains(C,o)&&(o=o.toLowerCase()),i.length>1&&n===i.length-1&&e.push("and "),e.push(o),i.length>2&&n<i.length-1&&e.push(","),i.length>1&&n<i.length-1&&e.push(" ")}),e.join("")}function d(t){var e=[],i=t.interests.slice(0,2);return 1===i.length&&e.push("include "),2===i.length&&e.push("range from "),i.forEach(function(t,n){var o=t.interest;m.contains(w,o)&&!m.contains(C,o)&&(o=o.toLowerCase()),2===i.length&&1===n&&e.push(" to "),e.push(o)}),e.join("")}function u(t){var e=[],i=[];return t.interests[2]&&i.push(t.interests[2]),t.interests[3]&&i.push(t.interests[3]),t.interests[4]&&i.push(t.interests[4]),i.forEach(function(t,n){var o=t.interest;m.contains(w,o)&&!m.contains(C,o)&&(o=o.toLowerCase()),i.length>1&&n===i.length-1&&e.push("and "),e.push(o),i.length>2&&n<i.length-1&&e.push(","),i.length>1&&n<i.length-1&&e.push(" ")}),e.join("")}function h(t){var e="",i=!!t.spotlight&&t.spotlight.type;if(i)if("ask_me"===i)e="Ask me about "+t.spotlight.text;else if("signup_for"===i)e="Sign up for my "+t.spotlight.text;else{var n=m.findWhere(f.spotlights,{id:i});if(!n)return e;e=n.label}return e}function p(t){return!!t.apps.length}Object.defineProperty(e,"__esModule",{value:!0}),e.getFirstNameString=n,e.getLocationString=o,e.getRoleString=s,e.getRolesString=r,e.getCompanyString=a,e.getInterestsString=l,e.getSecondaryInterestsString=c,e.getInterestsRangeString=d,e.getSecondaryInterestsRangeString=u,e.getSpotlightString=h,e.getSocialLinksStatus=p;var f=i(166),m=i(2),g=i(249),b=i(510),v=i(512),w=b.map(function(t){return t.interest}),x=v.map(function(t){return t.role}),y=[""],C=["DIY"]},1279:function(t,e,i){e=t.exports=i(8)(),e.push([t.id,'.medium-toolbar-arrow-under:after{top:50px}.medium-toolbar-arrow-over:before{top:-8px}.medium-editor-toolbar{background-color:hsla(0,0%,39%,.95);border-radius:0 0 5px 5px;font-family:Proxima Nova,Tahoma,Helvetica,Verdana,sans-serif}.medium-editor-toolbar li{float:left}.medium-editor-toolbar li button{height:40px;line-height:39px;padding:0 10px;color:#ddd;border-radius:0;font-size:15px;transition:color .2s ease-out}.medium-editor-toolbar li button:before{font-size:18px;margin-right:5px}.no-touchevents .medium-editor-toolbar li button:hover{color:#aaa}.medium-editor-toolbar li .medium-editor-button-first{border-bottom-left-radius:3px;border-top-left-radius:3px}.medium-editor-toolbar li .medium-editor-button-last{border-bottom-right-radius:3px;border-top-right-radius:3px}.medium-editor-toolbar li .medium-editor-button-active{color:#fff}.medium-editor-toolbar-form{border-radius:0 0 5px 5px;color:#ddd;text-align:right;height:40px;position:relative}.medium-editor-toolbar-form .medium-editor-toolbar-input{height:100%;width:65%;padding:0 10px;position:absolute;left:0;top:0;font-size:16px}.medium-editor-toolbar-form .medium-editor-toolbar-input,.medium-editor-toolbar-form a{color:#ddd;box-shadow:none;background-image:none;border:none;background-color:transparent;font-family:Proxima Nova,Tahoma,Helvetica,Verdana,sans-serif}.medium-editor-toolbar-form a{height:40px;line-height:39px;padding:0;margin:0;margin-left:5px;border-radius:0;font-size:18px;box-sizing:border-box;transition:color .2s ease-out;font-weight:400}.medium-editor-toolbar-form a:last-child{margin-right:5px}.no-touchevents .medium-editor-toolbar-form a:hover{color:#aaa}.medium-editor-toolbar-anchor-preview{border-radius:5px;color:#fff}.medium-editor-action-anchor:after{content:"Add Link";display:inline;width:auto;font-size:inherit;font-family:Proxima Nova,Tahoma,Helvetica,Verdana,sans-serif}.medium-editor-action-anchor.medium-editor-button-active:after{content:"Remove Link"}.medium-editor-placeholder:after{color:#b3b3b1}',""])},1287:function(t,e,i){e=t.exports=i(8)(),e.push([t.id,"._2YqVQxqIGxhbpUzBrTNBpA header{margin-bottom:20px}._2YqVQxqIGxhbpUzBrTNBpA header h2{color:#fff;font-size:18px;font-weight:700;margin-bottom:3px}._2YqVQxqIGxhbpUzBrTNBpA header p{font-size:14px}._2YqVQxqIGxhbpUzBrTNBpA .bio-editor{background-color:#fff;border:1px solid rgba(0,0,0,.1);border-radius:0 0 5px 5px;height:300px;box-sizing:border-box;overflow-y:auto;width:100%;max-width:360px;word-wrap:break-word;padding:20px;padding-bottom:50px;color:#333}._2YqVQxqIGxhbpUzBrTNBpA .bio-editor b,._2YqVQxqIGxhbpUzBrTNBpA .bio-editor em,._2YqVQxqIGxhbpUzBrTNBpA .bio-editor i,._2YqVQxqIGxhbpUzBrTNBpA .bio-editor strong{font-style:normal;font-weight:400}._2YqVQxqIGxhbpUzBrTNBpA .bio-editor a{color:#2b82ad}.no-touchevents ._2YqVQxqIGxhbpUzBrTNBpA .bio-editor a:hover{color:#3aa9e9}@media only screen and (max-width:720px){._2YqVQxqIGxhbpUzBrTNBpA .bio-editor{max-width:calc(100vw - 20px - 20px)}}._2YqVQxqIGxhbpUzBrTNBpA .presets-container{margin-bottom:0}._2YqVQxqIGxhbpUzBrTNBpA .presets{background-color:#eee;height:40px;line-height:40px;border-radius:5px 5px 0 0;position:relative;z-index:2;font-size:14px;padding-left:10px}._2YqVQxqIGxhbpUzBrTNBpA .presets li{color:#2eb897;padding:0 10px;display:inline-block;height:40px;line-height:40px;cursor:pointer}.no-touchevents ._2YqVQxqIGxhbpUzBrTNBpA .presets li:hover{color:#70dbc2}._2YqVQxqIGxhbpUzBrTNBpA .presets li.active{color:#333;cursor:default}.no-touchevents ._2YqVQxqIGxhbpUzBrTNBpA .presets li.active:hover{color:#333}._2YqVQxqIGxhbpUzBrTNBpA .tools-container{position:relative;margin-bottom:0}._2YqVQxqIGxhbpUzBrTNBpA .buttons-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}._2YqVQxqIGxhbpUzBrTNBpA .buttons-container fieldset{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;width:calc(50% - 10px);max-width:calc(50% - 10px)}._2YqVQxqIGxhbpUzBrTNBpA .medium-editor-toolbar{top:-54px;right:0}",""]),e.locals={scope:"_2YqVQxqIGxhbpUzBrTNBpA"}},1353:function(t,e,i){e=t.exports=i(8)(),e.push([t.id,'@-webkit-keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes medium-editor-image-loading{0%{-webkit-transform:scale(0);transform:scale(0)}to{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}@keyframes medium-editor-pop-upwards{0%{opacity:0;-webkit-transform:matrix(.97,0,0,1,0,12);transform:matrix(.97,0,0,1,0,12)}20%{opacity:.7;-webkit-transform:matrix(.99,0,0,1,0,2);transform:matrix(.99,0,0,1,0,2)}40%{opacity:1;-webkit-transform:matrix(1,0,0,1,0,-1);transform:matrix(1,0,0,1,0,-1)}to{-webkit-transform:matrix(1,0,0,1,0,0);transform:matrix(1,0,0,1,0,0)}}.medium-editor-anchor-preview{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;line-height:1.4;max-width:280px;position:absolute;text-align:center;top:0;word-break:break-all;word-wrap:break-word;visibility:hidden;z-index:2000}.medium-editor-anchor-preview a{color:#fff;display:inline-block;margin:5px 5px 10px}.medium-editor-anchor-preview-active{visibility:visible}.medium-editor-dragover{background:#ddd}.medium-editor-image-loading{-webkit-animation:medium-editor-image-loading 1s infinite ease-in-out;animation:medium-editor-image-loading 1s infinite ease-in-out;background-color:#333;border-radius:100%;display:inline-block;height:40px;width:40px}.medium-editor-placeholder{position:relative}.medium-editor-placeholder:after{content:attr(data-placeholder)!important;font-style:italic;left:0;position:absolute;top:0;white-space:pre;padding:inherit;margin:inherit}.medium-toolbar-arrow-over:before,.medium-toolbar-arrow-under:after{border-style:solid;content:"";display:block;height:0;left:50%;margin-left:-8px;position:absolute;width:0}.medium-toolbar-arrow-under:after{border-width:8px 8px 0}.medium-toolbar-arrow-over:before{border-width:0 8px 8px;top:-8px}.medium-editor-toolbar{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;left:0;position:absolute;top:0;visibility:hidden;z-index:2000}.medium-editor-toolbar ul{margin:0;padding:0}.medium-editor-toolbar li{float:left;list-style:none;margin:0;padding:0}.medium-editor-toolbar li button{box-sizing:border-box;cursor:pointer;display:block;font-size:14px;line-height:1.33;margin:0;padding:15px;text-decoration:none}.medium-editor-toolbar li button:focus{outline:none}.medium-editor-toolbar li .medium-editor-action-underline{text-decoration:underline}.medium-editor-toolbar li .medium-editor-action-pre{font-family:Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px;font-weight:100;padding:15px 0}.medium-editor-toolbar-active{visibility:visible}.medium-editor-sticky-toolbar{position:fixed;top:1px}.medium-editor-relative-toolbar{position:relative}.medium-editor-toolbar-active.medium-editor-stalker-toolbar{-webkit-animation:medium-editor-pop-upwards .16s forwards linear;animation:medium-editor-pop-upwards .16s forwards linear}.medium-editor-action-bold{font-weight:bolder}.medium-editor-action-italic{font-style:italic}.medium-editor-toolbar-form{display:none}.medium-editor-toolbar-form a,.medium-editor-toolbar-form input{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.medium-editor-toolbar-form .medium-editor-toolbar-form-row{line-height:14px;margin-left:5px;padding-bottom:5px}.medium-editor-toolbar-form .medium-editor-toolbar-input,.medium-editor-toolbar-form label{border:none;box-sizing:border-box;font-size:14px;margin:0;padding:6px;width:316px;display:inline-block}.medium-editor-toolbar-form .medium-editor-toolbar-input:focus,.medium-editor-toolbar-form label:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;box-shadow:none;outline:0}.medium-editor-toolbar-form a{display:inline-block;font-size:24px;font-weight:bolder;margin:0 10px;text-decoration:none}.medium-editor-toolbar-form-active{display:block}.medium-editor-toolbar-actions:after{clear:both;content:"";display:table}[data-medium-editor-element]{word-wrap:break-word;min-height:30px}[data-medium-editor-element] img{max-width:100%}[data-medium-editor-element] sub{vertical-align:sub}[data-medium-editor-element] sup{vertical-align:super}.medium-editor-hidden{display:none}',""])},1456:function(t,e,i){var n=i(1279),o=i(9);"string"==typeof n&&(n=[[t.id,n,""]]),t.exports=n.locals||{},t.exports._getContent=function(){return n},t.exports._getCss=function(){return n.toString()},t.exports._insertCss=function(t){return o(n,t)}},1464:function(t,e,i){var n=i(1287),o=i(9);"string"==typeof n&&(n=[[t.id,n,""]]),t.exports=n.locals||{},t.exports._getContent=function(){return n},t.exports._getCss=function(){return n.toString()},t.exports._insertCss=function(t){return o(n,t)}},1528:function(t,e,i){var n=i(1353),o=i(9);"string"==typeof n&&(n=[[t.id,n,""]]),t.exports=n.locals||{},t.exports._getContent=function(){return n},t.exports._getCss=function(){return n.toString()},t.exports._insertCss=function(t){return o(n,t)}},1537:function(t,e,i){"classList"in document.createElement("_")||!function(t){"use strict";if("Element"in t){var e="classList",i="prototype",n=t.Element[i],o=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},a=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},c=function(t){for(var e=s.call(t.getAttribute("class")||""),i=e?e.split(/\s+/):[],n=0,o=i.length;n<o;n++)this.push(i[n]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},d=c[i]=[],u=function(){return new c(this)};if(a[i]=Error[i],d.item=function(t){return this[t]||null},d.contains=function(t){return t+="",l(this,t)!==-1},d.add=function(){var t,e=arguments,i=0,n=e.length,o=!1;do t=e[i]+"",l(this,t)===-1&&(this.push(t),o=!0);while(++i<n);o&&this._updateClassName()},d.remove=function(){var t,e,i=arguments,n=0,o=i.length,s=!1;do for(t=i[n]+"",e=l(this,t);e!==-1;)this.splice(e,1),s=!0,e=l(this,t);while(++n<o);s&&this._updateClassName()},d.toggle=function(t,e){t+="";var i=this.contains(t),n=i?e!==!0&&"remove":e!==!1&&"add";return n&&this[n](t),e===!0||e===!1?e:!i},d.toString=function(){return this.join(" ")},o.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{o.defineProperty(n,e,h)}catch(t){t.number===-2146823252&&(h.enumerable=!1,o.defineProperty(n,e,h))}}else o[i].__defineGetter__&&n.__defineGetter__(e,u)}}(self),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(t){}var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},n=function(t,e,i){this.data=t,this.size=t.length,this.type=e,this.encoding=i},o=i.prototype,s=n.prototype,r=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),c=l.length,d=t.URL||t.webkitURL||t,u=d.createObjectURL,h=d.revokeObjectURL,p=d,f=t.btoa,m=t.atob,g=t.ArrayBuffer,b=t.Uint8Array,v=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=s.fake=!0;c--;)a.prototype[l[c]]=c+1;return d.createObjectURL||(p=t.URL=function(t){var e,i=document.createElementNS("http://www.w3.org/1999/xhtml","a");return i.href=t,"origin"in i||("data:"===i.protocol.toLowerCase()?i.origin=null:(e=t.match(v),i.origin=e&&e[1])),i}),p.createObjectURL=function(t){var e,i=t.type;return null===i&&(i="application/octet-stream"),t instanceof n?(e="data:"+i,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):f?e+";base64,"+f(t.data):e+","+encodeURIComponent(t.data)):u?u.call(d,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&h&&h.call(d,t)},o.append=function(t){var i=this.data;if(b&&(t instanceof g||t instanceof b)){for(var o="",s=new b(t),l=0,c=s.length;l<c;l++)o+=String.fromCharCode(s[l]);i.push(o)}else if("Blob"===e(t)||"File"===e(t)){if(!r)throw new a("NOT_READABLE_ERR");var d=new r;i.push(d.readAsBinaryString(t))}else t instanceof n?"base64"===t.encoding&&m?i.push(m(t.data)):"URI"===t.encoding?i.push(decodeURIComponent(t.data)):"raw"===t.encoding&&i.push(t.data):("string"!=typeof t&&(t+=""),i.push(unescape(encodeURIComponent(t))))},o.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(""),t,"raw")},o.toString=function(){return"[object BlobBuilder]"},s.slice=function(t,e,i){var o=arguments.length;return o<3&&(i=null),new n(this.data.slice(t,o>1?e:this.data.length),i,this.encoding)},s.toString=function(){return"[object Blob]"},s.close=function(){this.size=0,delete this.data},i}(t);t.Blob=function(t,i){var n=i?i.type||"":"",o=new e;if(t)for(var s=0,r=t.length;s<r;s++)Uint8Array&&t[s]instanceof Uint8Array?o.append(t[s].buffer):o.append(t[s]);var a=o.getBlob(n);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(e,i){"use strict";t.exports=i}(this,function(){"use strict";function t(t,e){return this.init(t,e)}return t.extensions={},function(e){function i(t,e){var i,n=Array.prototype.slice.call(arguments,2);e=e||{};for(var o=0;o<n.length;o++){var s=n[o];if(s)for(i in s)s.hasOwnProperty(i)&&"undefined"!=typeof s[i]&&(t||e.hasOwnProperty(i)===!1)&&(e[i]=s[i])}return e}var n=!1;try{var o=document.createElement("div"),s=document.createTextNode(" ");o.appendChild(s),n=o.contains(s)}catch(t){}var r={isIE:"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent),isEdge:null!==/Edge\/\d+/.exec(navigator.userAgent),isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:e.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77},isMetaCtrlKey:function(t){return!!(r.isMac&&t.metaKey||!r.isMac&&t.ctrlKey)},isKey:function(t,e){var i=r.getKeyCode(t);return!1===Array.isArray(e)?i===e:-1!==e.indexOf(i)},getKeyCode:function(t){var e=t.which;return null===e&&(e=null!==t.charCode?t.charCode:t.keyCode),e},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var t=[!0].concat(Array.prototype.slice.call(arguments));return i.apply(this,t)},defaults:function(){var t=[!1].concat(Array.prototype.slice.call(arguments));return i.apply(this,t)},createLink:function(t,e,i,n){var o=t.createElement("a");return r.moveTextRangeIntoElement(e[0],e[e.length-1],o),o.setAttribute("href",i),n&&o.setAttribute("target",n),o},findOrCreateMatchingTextNodes:function(t,e,i){for(var n=t.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),o=[],s=0,a=!1,l=null,c=null;null!==(l=n.nextNode());)if(!(l.nodeType>3))if(3===l.nodeType){if(!a&&i.start<s+l.nodeValue.length&&(a=!0,c=r.splitStartNodeIfNeeded(l,i.start,s)),a&&r.splitEndNodeIfNeeded(l,c,i.end,s),a&&s===i.end)break;if(a&&s>i.end+1)throw new Error("PerformLinking overshot the target!");a&&o.push(c||l),s+=l.nodeValue.length,null!==c&&(s+=c.nodeValue.length,n.nextNode()),c=null}else"img"===l.tagName.toLowerCase()&&(!a&&i.start<=s&&(a=!0),a&&o.push(l));return o},splitStartNodeIfNeeded:function(t,e,i){return e!==i?t.splitText(e-i):null},splitEndNodeIfNeeded:function(t,e,i,n){var o,s;o=n+(e||t).nodeValue.length+(e?t.nodeValue.length:0)-1,s=(e||t).nodeValue.length-(o+1-i),o>=i&&n!==o&&0!==s&&(e||t).splitText(s)},splitByBlockElements:function(e){if(3!==e.nodeType&&1!==e.nodeType)return[];var i=[],n=t.util.blockContainerElementNames.join(",");if(3===e.nodeType||0===e.querySelectorAll(n).length)return[e];for(var o=0;o<e.childNodes.length;o++){var s=e.childNodes[o];if(3===s.nodeType)i.push(s);else if(1===s.nodeType){var r=s.querySelectorAll(n);0===r.length?i.push(s):i=i.concat(t.util.splitByBlockElements(s))}}return i},findAdjacentTextNodeWithContent:function(t,e,i){var n,o=!1,s=i.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);for(n=s.nextNode();n;){if(n===e)o=!0;else if(o&&3===n.nodeType&&n.nodeValue&&n.nodeValue.trim().length>0)break;n=s.nextNode()}return n},findPreviousSibling:function(t){if(!t||r.isMediumEditorElement(t))return!1;for(var e=t.previousSibling;!e&&!r.isMediumEditorElement(t.parentNode);)t=t.parentNode,e=t.previousSibling;return e},isDescendant:function(t,e,i){if(!t||!e)return!1;if(t===e)return!!i;if(1!==t.nodeType)return!1;if(n||3!==e.nodeType)return t.contains(e);for(var o=e.parentNode;null!==o;){if(o===t)return!0;o=o.parentNode}return!1},isElement:function(t){return!(!t||1!==t.nodeType)},throttle:function(t,e){var i,n,o,s=50,r=null,a=0,l=function(){a=Date.now(),r=null,o=t.apply(i,n),r||(i=n=null)};return e||0===e||(e=s),function(){var s=Date.now(),c=e-(s-a);return i=this,n=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),a=s,o=t.apply(i,n),r||(i=n=null)):r||(r=setTimeout(l,c)),o}},traverseUp:function(t,e){if(!t)return!1;do{if(1===t.nodeType){if(e(t))return t;if(r.isMediumEditorElement(t))return!1}t=t.parentNode}while(t);return!1},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(e,i){var n,o,s,a,l,c,d,u=!1,h=["insertHTML",!1,i];if(!t.util.isEdge&&e.queryCommandSupported("insertHTML"))try{return e.execCommand.apply(e,h)}catch(t){}if(n=e.getSelection(),n.rangeCount){if(o=n.getRangeAt(0),d=o.commonAncestorContainer,r.isMediumEditorElement(d)&&!d.firstChild)o.selectNode(d.appendChild(e.createTextNode("")));else if(3===d.nodeType&&0===o.startOffset&&o.endOffset===d.nodeValue.length||3!==d.nodeType&&d.innerHTML===o.toString()){for(;!r.isMediumEditorElement(d)&&d.parentNode&&1===d.parentNode.childNodes.length&&!r.isMediumEditorElement(d.parentNode);)d=d.parentNode;o.selectNode(d)}for(o.deleteContents(),s=e.createElement("div"),s.innerHTML=i,a=e.createDocumentFragment();s.firstChild;)l=s.firstChild,c=a.appendChild(l);o.insertNode(a),c&&(o=o.cloneRange(),o.setStartAfter(c),o.collapse(!0),n.removeAllRanges(),n.addRange(o)),u=!0}return e.execCommand.callListeners&&e.execCommand.callListeners(h,u),u},execFormatBlock:function(e,i){var n,o=r.getTopBlockContainer(t.selection.getSelectionStart(e));if("blockquote"===i){if(o&&(n=Array.prototype.slice.call(o.childNodes),n.some(function(t){return r.isBlockContainer(t)})))return e.execCommand("outdent",!1,null);if(r.isIE)return e.execCommand("indent",!1,i)}if(o&&i===o.nodeName.toLowerCase()&&(i="p"),r.isIE&&(i="<"+i+">"),o&&"blockquote"===o.nodeName.toLowerCase()){if(r.isIE&&"<p>"===i)return e.execCommand("outdent",!1,i);if((r.isFF||r.isEdge)&&"p"===i)return n=Array.prototype.slice.call(o.childNodes),n.some(function(t){return!r.isBlockContainer(t)})&&e.execCommand("formatBlock",!1,i),e.execCommand("outdent",!1,i)}return e.execCommand("formatBlock",!1,i)},setTargetBlank:function(t,e){var i,n=e||!1;if("a"===t.nodeName.toLowerCase())t.target="_blank";else for(t=t.getElementsByTagName("a"),i=0;i<t.length;i+=1)!1!==n&&n!==t[i].attributes.href.value||(t[i].target="_blank")},removeTargetBlank:function(t,e){var i;if("a"===t.nodeName.toLowerCase())t.removeAttribute("target");else for(t=t.getElementsByTagName("a"),i=0;i<t.length;i+=1)e===t[i].attributes.href.value&&t[i].removeAttribute("target")},addClassToAnchors:function(t,e){var i,n,o=e.split(" ");if("a"===t.nodeName.toLowerCase())for(n=0;n<o.length;n+=1)t.classList.add(o[n]);else for(t=t.getElementsByTagName("a"),i=0;i<t.length;i+=1)for(n=0;n<o.length;n+=1)t[i].classList.add(o[n])},isListItem:function(t){if(!t)return!1;if("li"===t.nodeName.toLowerCase())return!0;for(var e=t.parentNode,i=e.nodeName.toLowerCase();"li"===i||!r.isBlockContainer(e)&&"div"!==i;){if("li"===i)return!0;if(e=e.parentNode,!e)return!1;i=e.nodeName.toLowerCase()}return!1},cleanListDOM:function(e,i){if("li"===i.nodeName.toLowerCase()){var n=i.parentElement;"p"===n.parentElement.nodeName.toLowerCase()&&(r.unwrap(n.parentElement,e),t.selection.moveCursor(e,i.firstChild,i.firstChild.textContent.length))}},splitOffDOMTree:function(t,e,i){for(var n=e,o=null,s=!i;n!==t;){var r,a=n.parentNode,l=a.cloneNode(!1),c=s?n:a.firstChild;for(o&&(s?l.appendChild(o):r=o),o=l;c;){var d=c.nextSibling;c===n?(c.hasChildNodes()?c=c.cloneNode(!1):c.parentNode.removeChild(c),c.textContent&&o.appendChild(c),c=s?d:null):(c.parentNode.removeChild(c),(c.hasChildNodes()||c.textContent)&&o.appendChild(c),c=d)}r&&o.appendChild(r),n=a}return o},moveTextRangeIntoElement:function(t,e,i){if(!t||!e)return!1;var n=r.findCommonRoot(t,e);if(!n)return!1;if(e===t){var o=t.parentNode,s=t.nextSibling;return o.removeChild(t),i.appendChild(t),s?o.insertBefore(i,s):o.appendChild(i),i.hasChildNodes()}for(var a,l,c,d=[],u=0;u<n.childNodes.length;u++)if(c=n.childNodes[u],a){if(r.isDescendant(c,e,!0)){l=c;break}d.push(c)}else r.isDescendant(c,t,!0)&&(a=c);var h=l.nextSibling,p=n.ownerDocument.createDocumentFragment();return a===t?(a.parentNode.removeChild(a),p.appendChild(a)):p.appendChild(r.splitOffDOMTree(a,t)),d.forEach(function(t){t.parentNode.removeChild(t),p.appendChild(t)}),l===e?(l.parentNode.removeChild(l),p.appendChild(l)):p.appendChild(r.splitOffDOMTree(l,e,!0)),i.appendChild(p),l.parentNode===n?n.insertBefore(i,l):h?n.insertBefore(i,h):n.appendChild(i),i.hasChildNodes()},depthOfNode:function(t){for(var e=0,i=t;null!==i.parentNode;)i=i.parentNode,e++;return e},findCommonRoot:function(t,e){for(var i=r.depthOfNode(t),n=r.depthOfNode(e),o=t,s=e;i!==n;)i>n?(o=o.parentNode,i-=1):(s=s.parentNode,n-=1);for(;o!==s;)o=o.parentNode,s=s.parentNode;return o},isElementAtBeginningOfBlock:function(t){for(var e,i;!r.isBlockContainer(t)&&!r.isMediumEditorElement(t);){for(i=t;i=i.previousSibling;)if(e=3===i.nodeType?i.nodeValue:i.textContent,e.length>0)return!1;t=t.parentNode}return!0},isMediumEditorElement:function(t){return t&&t.getAttribute&&!!t.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(t){return r.traverseUp(t,function(t){return r.isMediumEditorElement(t)})},isBlockContainer:function(t){return t&&3!==t.nodeType&&r.blockContainerElementNames.indexOf(t.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(t){return r.traverseUp(t,function(t){return r.isBlockContainer(t)||r.isMediumEditorElement(t)})},getTopBlockContainer:function(t){var e=!!r.isBlockContainer(t)&&t;return r.traverseUp(t,function(t){return r.isBlockContainer(t)&&(e=t),!(e||!r.isMediumEditorElement(t))&&(e=t,!0)}),e},getFirstSelectableLeafNode:function(t){for(;t&&t.firstChild;)t=t.firstChild;if(t=r.traverseUp(t,function(t){return r.emptyElementNames.indexOf(t.nodeName.toLowerCase())===-1}),"table"===t.nodeName.toLowerCase()){var e=t.querySelector("th, td");e&&(t=e)}return t},getFirstTextNode:function(t){return r.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),r._getFirstTextNode(t)},_getFirstTextNode:function(t){if(3===t.nodeType)return t;for(var e=0;e<t.childNodes.length;e++){var i=r._getFirstTextNode(t.childNodes[e]);if(null!==i)return i}return null},ensureUrlHasProtocol:function(t){return t.indexOf("://")===-1?"http://"+t:t},warn:function(){void 0!==e.console&&"function"==typeof e.console.warn&&e.console.warn.apply(e.console,arguments)},deprecated:function(t,e,i){var n=t+" is deprecated, please use "+e+" instead.";i&&(n+=" Will be removed in "+i),r.warn(n)},deprecatedMethod:function(t,e,i,n){r.deprecated(t,e,n),"function"==typeof this[e]&&this[e].apply(this,i)},cleanupAttrs:function(t,e){e.forEach(function(e){t.removeAttribute(e)})},cleanupTags:function(t,e){e.forEach(function(e){t.nodeName.toLowerCase()===e&&t.parentNode.removeChild(t)})},getClosestTag:function(t,e){return r.traverseUp(t,function(t){return t.nodeName.toLowerCase()===e.toLowerCase()})},unwrap:function(t,e){for(var i=e.createDocumentFragment(),n=Array.prototype.slice.call(t.childNodes),o=0;o<n.length;o++)i.appendChild(n[o]);i.childNodes.length?t.parentNode.replaceChild(i,t):t.parentNode.removeChild(t)}};t.util=r}(window),function(){var e=function(e){t.util.extend(this,e)};e.extend=function(e){var i,n=this;i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},t.util.extend(i,n);var o=function(){this.constructor=i};return o.prototype=n.prototype,i.prototype=new o,e&&t.util.extend(i.prototype,e),i},e.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(t){return this.base.options[t]}},["execAction","on","off","subscribe","trigger"].forEach(function(t){e.prototype[t]=function(){return this.base[t].apply(this.base,arguments)}}),t.Extension=e}(),function(){function e(e){return t.util.isBlockContainer(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var i={findMatchingSelectionParent:function(e,i){var n,o,s=i.getSelection();return 0!==s.rangeCount&&(n=s.getRangeAt(0),o=n.commonAncestorContainer,t.util.traverseUp(o,e))},getSelectionElement:function(e){return this.findMatchingSelectionParent(function(e){return t.util.isMediumEditorElement(e)},e)},exportSelection:function(t,e){if(!t)return null;var i=null,n=e.getSelection();
if(n.rangeCount>0){var o,s=n.getRangeAt(0),r=s.cloneRange();r.selectNodeContents(t),r.setEnd(s.startContainer,s.startOffset),o=r.toString().length,i={start:o,end:o+s.toString().length},this.doesRangeStartWithImages(s,e)&&(i.startsWithImage=!0);var a=this.getTrailingImageCount(t,i,s.endContainer,s.endOffset);if(a&&(i.trailingImageCount=a),0!==o){var l=this.getIndexRelativeToAdjacentEmptyBlocks(e,t,s.startContainer,s.startOffset);l!==-1&&(i.emptyBlocksIndex=l)}}return i},importSelection:function(t,e,i,n){if(t&&e){var o=i.createRange();o.setStart(e,0),o.collapse(!0);var s,r=e,a=[],l=0,c=!1,d=!1,u=0,h=!1,p=!1,f=null;for((n||t.startsWithImage||"undefined"!=typeof t.emptyBlocksIndex)&&(p=!0);!h&&r;)if(r.nodeType>3)r=a.pop();else{if(3!==r.nodeType||d){if(t.trailingImageCount&&d&&("img"===r.nodeName.toLowerCase()&&u++,u===t.trailingImageCount)){for(var m=0;r.parentNode.childNodes[m]!==r;)m++;o.setEnd(r.parentNode,m+1),h=!0}if(!h&&1===r.nodeType)for(var g=r.childNodes.length-1;g>=0;)a.push(r.childNodes[g]),g-=1}else s=l+r.length,!c&&t.start>=l&&t.start<=s&&(p||t.start<s?(o.setStart(r,t.start-l),c=!0):f=r),c&&t.end>=l&&t.end<=s&&(t.trailingImageCount?d=!0:(o.setEnd(r,t.end-l),h=!0)),l=s;h||(r=a.pop())}!c&&f&&(o.setStart(f,f.length),o.setEnd(f,f.length)),"undefined"!=typeof t.emptyBlocksIndex&&(o=this.importSelectionMoveCursorPastBlocks(i,e,t.emptyBlocksIndex,o)),n&&(o=this.importSelectionMoveCursorPastAnchor(t,o));var b=i.getSelection();b.removeAllRanges(),b.addRange(o)}},importSelectionMoveCursorPastAnchor:function(e,i){var n=function(t){return"a"===t.nodeName.toLowerCase()};if(e.start===e.end&&3===i.startContainer.nodeType&&i.startOffset===i.startContainer.nodeValue.length&&t.util.traverseUp(i.startContainer,n)){for(var o=i.startContainer,s=i.startContainer.parentNode;null!==s&&"a"!==s.nodeName.toLowerCase();)s.childNodes[s.childNodes.length-1]!==o?s=null:(o=s,s=s.parentNode);if(null!==s&&"a"===s.nodeName.toLowerCase()){for(var r=null,a=0;null===r&&a<s.parentNode.childNodes.length;a++)s.parentNode.childNodes[a]===s&&(r=a);i.setStart(s.parentNode,r+1),i.collapse(!0)}}return i},importSelectionMoveCursorPastBlocks:function(i,n,o,s){var r,a,l=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,e,!1),c=s.startContainer,d=0;for(o=o||1,r=3===c.nodeType&&t.util.isBlockContainer(c.previousSibling)?c.previousSibling:t.util.getClosestBlockContainer(c);l.nextNode();)if(a){if(a=l.currentNode,d++,d===o)break;if(a.textContent.length>0)break}else r===l.currentNode&&(a=l.currentNode);return a||(a=r),s.setStart(t.util.getFirstSelectableLeafNode(a),0),s},getIndexRelativeToAdjacentEmptyBlocks:function(i,n,o,s){if(o.textContent.length>0&&s>0)return-1;var r=o;if(3!==r.nodeType&&(r=o.childNodes[s]),r){if(!t.util.isElementAtBeginningOfBlock(r))return-1;var a=t.util.findPreviousSibling(r);if(!a)return-1;if(a.nodeValue)return-1}for(var l=t.util.getClosestBlockContainer(o),c=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,e,!1),d=0;c.nextNode();){var u=""===c.currentNode.textContent;if((u||d>0)&&(d+=1),c.currentNode===l)return d;u||(d=0)}return d},doesRangeStartWithImages:function(t,e){if(0!==t.startOffset||1!==t.startContainer.nodeType)return!1;if("img"===t.startContainer.nodeName.toLowerCase())return!0;var i=t.startContainer.querySelector("img");if(!i)return!1;for(var n=e.createTreeWalker(t.startContainer,NodeFilter.SHOW_ALL,null,!1);n.nextNode();){var o=n.currentNode;if(o===i)break;if(o.nodeValue)return!1}return!0},getTrailingImageCount:function(t,e,i,n){if(0===n||1!==i.nodeType)return 0;if("img"!==i.nodeName.toLowerCase()&&!i.querySelector("img"))return 0;for(var o=i.childNodes[n-1];o.hasChildNodes();)o=o.lastChild;for(var s,r=t,a=[],l=0,c=!1,d=!1,u=!1,h=0;!u&&r;)if(r.nodeType>3)r=a.pop();else{if(3!==r.nodeType||d){if("img"===r.nodeName.toLowerCase()&&h++,r===o)u=!0;else if(1===r.nodeType)for(var p=r.childNodes.length-1;p>=0;)a.push(r.childNodes[p]),p-=1}else h=0,s=l+r.length,!c&&e.start>=l&&e.start<=s&&(c=!0),c&&e.end>=l&&e.end<=s&&(d=!0),l=s;u||(r=a.pop())}return h},selectionContainsContent:function(t){var e=t.getSelection();if(!e||e.isCollapsed||!e.rangeCount)return!1;if(""!==e.toString().trim())return!0;var i=this.getSelectedParentElement(e.getRangeAt(0));return!(!i||!("img"===i.nodeName.toLowerCase()||1===i.nodeType&&i.querySelector("img")))},selectionInContentEditableFalse:function(t){var e,i=this.findMatchingSelectionParent(function(t){var i=t&&t.getAttribute("contenteditable");return"true"===i&&(e=!0),"#text"!==t.nodeName&&"false"===i},t);return!e&&i},getSelectionHtml:function(t){var e,i,n,o="",s=t.getSelection();if(s.rangeCount){for(n=t.createElement("div"),e=0,i=s.rangeCount;e<i;e+=1)n.appendChild(s.getRangeAt(e).cloneContents());o=n.innerHTML}return o},getCaretOffsets:function(t,e){var i,n;return e||(e=window.getSelection().getRangeAt(0)),i=e.cloneRange(),n=e.cloneRange(),i.selectNodeContents(t),i.setEnd(e.endContainer,e.endOffset),n.selectNodeContents(t),n.setStart(e.endContainer,e.endOffset),{left:i.toString().length,right:n.toString().length}},rangeSelectsSingleNode:function(t){var e=t.startContainer;return e===t.endContainer&&e.hasChildNodes()&&t.endOffset===t.startOffset+1},getSelectedParentElement:function(t){return t?this.rangeSelectsSingleNode(t)&&3!==t.startContainer.childNodes[t.startOffset].nodeType?t.startContainer.childNodes[t.startOffset]:3===t.startContainer.nodeType?t.startContainer.parentNode:t.startContainer:null},getSelectedElements:function(t){var e,i,n,o=t.getSelection();if(!o.rangeCount||o.isCollapsed||!o.getRangeAt(0).commonAncestorContainer)return[];if(e=o.getRangeAt(0),3===e.commonAncestorContainer.nodeType){for(i=[],n=e.commonAncestorContainer;n.parentNode&&1===n.parentNode.childNodes.length;)i.push(n.parentNode),n=n.parentNode;return i}return[].filter.call(e.commonAncestorContainer.getElementsByTagName("*"),function(t){return"function"!=typeof o.containsNode||o.containsNode(t,!0)})},selectNode:function(t,e){var i=e.createRange(),n=e.getSelection();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i)},select:function(t,e,i,n,o){t.getSelection().removeAllRanges();var s=t.createRange();return s.setStart(e,i),n?s.setEnd(n,o):s.collapse(!0),t.getSelection().addRange(s),s},clearSelection:function(t,e){e?t.getSelection().collapseToStart():t.getSelection().collapseToEnd()},moveCursor:function(t,e,i){this.select(t,e,i)},getSelectionRange:function(t){var e=t.getSelection();return 0===e.rangeCount?null:e.getRangeAt(0)},getSelectionStart:function(t){var e=t.getSelection().anchorNode,i=e&&3===e.nodeType?e.parentNode:e;return i}};t.selection=i}(),function(){var e=function(t){this.base=t,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};e.prototype={InputEventOnContenteditableSupported:!t.util.isIE&&!t.util.isEdge,attachDOMEvent:function(e,i,n,o){e=t.util.isElement(e)||[window,document].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(t){t.addEventListener(i,n,o),this.events.push([t,i,n,o])}.bind(this))},detachDOMEvent:function(e,i,n,o){var s,r;e=t.util.isElement(e)||[window,document].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,function(t){s=this.indexOfListener(t,i,n,o),s!==-1&&(r=this.events.splice(s,1)[0],r[0].removeEventListener(r[1],r[2],r[3]))}.bind(this))},indexOfListener:function(t,e,i,n){var o,s,r;for(o=0,s=this.events.length;o<s;o+=1)if(r=this.events[o],r[0]===t&&r[1]===e&&r[2]===i&&r[3]===n)return o;return-1},detachAllDOMEvents:function(){for(var t=this.events.pop();t;)t[0].removeEventListener(t[1],t[2],t[3]),t=this.events.pop()},enableCustomEvent:function(t){void 0!==this.disabledEvents[t]&&delete this.disabledEvents[t]},disableCustomEvent:function(t){this.disabledEvents[t]=!0},attachCustomEvent:function(t,e){this.setupListener(t),this.customEvents[t]||(this.customEvents[t]=[]),this.customEvents[t].push(e)},detachCustomEvent:function(t,e){var i=this.indexOfCustomListener(t,e);i!==-1&&this.customEvents[t].splice(i,1)},indexOfCustomListener:function(t,e){return this.customEvents[t]&&this.customEvents[t].length?this.customEvents[t].indexOf(e):-1},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(t,e,i){this.customEvents[t]&&!this.disabledEvents[t]&&this.customEvents[t].forEach(function(t){t(e,i)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(t){t.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=function(t){this.handleDocumentExecCommand(t)}.bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var t=this.options.ownerDocument;if(this.execCommandListener&&t.execCommand.listeners){var e=t.execCommand.listeners.indexOf(this.execCommandListener);e!==-1&&t.execCommand.listeners.splice(e,1),t.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var t=this.options.ownerDocument;if(!t.execCommand.listeners){var e=function(e,i){t.execCommand.listeners&&t.execCommand.listeners.forEach(function(t){t({command:e[0],value:e[2],args:e,result:i})})},i=function(){var i=t.execCommand.orig.apply(this,arguments);if(!t.execCommand.listeners)return i;var n=Array.prototype.slice.call(arguments);return e(n,i),i};i.orig=t.execCommand,i.listeners=[],i.callListeners=e,t.execCommand=i}},unwrapExecCommand:function(){var t=this.options.ownerDocument;t.execCommand.orig&&(t.execCommand=t.execCommand.orig)},setupListener:function(t){if(!this.listeners[t]){switch(t){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache=[],this.base.elements.forEach(function(t){this.contentCache[t.getAttribute("medium-editor-index")]=t.innerHTML,this.InputEventOnContenteditableSupported&&this.attachDOMEvent(t,"input",this.handleInput.bind(this))}.bind(this)),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste)}this.listeners[t]=!0}},attachToEachElement:function(t,e){this.base.elements.forEach(function(i){this.attachDOMEvent(i,t,e.bind(this))},this)},focusElement:function(t){t.focus(),this.updateFocus(t,{target:t,type:"focus"})},updateFocus:function(e,i){var n,o=this.base.getExtensionByName("toolbar"),s=o?o.getToolbarElement():null,r=this.base.getExtensionByName("anchor-preview"),a=r&&r.getPreviewElement?r.getPreviewElement():null,l=this.base.getFocusedElement();l&&"click"===i.type&&this.lastMousedownTarget&&(t.util.isDescendant(l,this.lastMousedownTarget,!0)||t.util.isDescendant(s,this.lastMousedownTarget,!0)||t.util.isDescendant(a,this.lastMousedownTarget,!0))&&(n=l),n||this.base.elements.some(function(i){return!n&&t.util.isDescendant(i,e,!0)&&(n=i),!!n},this);var c=!t.util.isDescendant(l,e,!0)&&!t.util.isDescendant(s,e,!0)&&!t.util.isDescendant(a,e,!0);n!==l&&(l&&c&&(l.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,l)),n&&(n.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,n))),c&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(t,e){if(this.contentCache){var i=t.getAttribute("medium-editor-index"),n=t.innerHTML;n!==this.contentCache[i]&&this.triggerCustomEvent("editableInput",e,t),this.contentCache[i]=n}},handleDocumentSelectionChange:function(e){if(e.currentTarget&&e.currentTarget.activeElement){var i,n=e.currentTarget.activeElement;this.base.elements.some(function(e){return!!t.util.isDescendant(e,n,!0)&&(i=e,!0)},this),i&&this.updateInput(i,{target:n,currentTarget:i})}},handleDocumentExecCommand:function(){var t=this.base.getFocusedElement();t&&this.updateInput(t,{target:t,currentTarget:t})},handleBodyClick:function(t){this.updateFocus(t.target,t)},handleBodyFocus:function(t){this.updateFocus(t.target,t)},handleBodyMousedown:function(t){this.lastMousedownTarget=t.target},handleInput:function(t){this.updateInput(t.currentTarget,t)},handleClick:function(t){this.triggerCustomEvent("editableClick",t,t.currentTarget)},handleBlur:function(t){this.triggerCustomEvent("editableBlur",t,t.currentTarget)},handleKeypress:function(t){if(this.triggerCustomEvent("editableKeypress",t,t.currentTarget),this.keypressUpdateInput){var e={target:t.target,currentTarget:t.currentTarget};setTimeout(function(){this.updateInput(e.currentTarget,e)}.bind(this),0)}},handleKeyup:function(t){this.triggerCustomEvent("editableKeyup",t,t.currentTarget)},handleMouseover:function(t){this.triggerCustomEvent("editableMouseover",t,t.currentTarget)},handleDragging:function(t){this.triggerCustomEvent("editableDrag",t,t.currentTarget)},handleDrop:function(t){this.triggerCustomEvent("editableDrop",t,t.currentTarget)},handlePaste:function(t){this.triggerCustomEvent("editablePaste",t,t.currentTarget)},handleKeydown:function(e){return this.triggerCustomEvent("editableKeydown",e,e.currentTarget),t.util.isKey(e,t.util.keyCode.SPACE)?this.triggerCustomEvent("editableKeydownSpace",e,e.currentTarget):t.util.isKey(e,t.util.keyCode.ENTER)||e.ctrlKey&&t.util.isKey(e,t.util.keyCode.M)?this.triggerCustomEvent("editableKeydownEnter",e,e.currentTarget):t.util.isKey(e,t.util.keyCode.TAB)?this.triggerCustomEvent("editableKeydownTab",e,e.currentTarget):t.util.isKey(e,[t.util.keyCode.DELETE,t.util.keyCode.BACKSPACE])?this.triggerCustomEvent("editableKeydownDelete",e,e.currentTarget):void 0}},t.Events=e}(),function(){var e=t.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(i){e.isBuiltInButton(i)?t.Extension.call(this,this.defaults[i]):t.Extension.call(this,i)},init:function(){t.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return"function"==typeof this.action?this.action(this.base.options):this.action},getAria:function(){return"function"==typeof this.aria?this.aria(this.base.options):this.aria},getTagNames:function(){return"function"==typeof this.tagNames?this.tagNames(this.base.options):this.tagNames},createButton:function(){var t=this.document.createElement("button"),e=this.contentDefault,i=this.getAria(),n=this.getEditorOption("buttonLabels");return t.classList.add("medium-editor-action"),t.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(e){t.classList.add(e)}),t.setAttribute("data-action",this.getAction()),i&&(t.setAttribute("title",i),t.setAttribute("aria-label",i)),this.attrs&&Object.keys(this.attrs).forEach(function(e){t.setAttribute(e,this.attrs[e])},this),"fontawesome"===n&&this.contentFA&&(e=this.contentFA),t.innerHTML=e,t},handleClick:function(t){t.preventDefault(),t.stopPropagation();var e=this.getAction();e&&this.execAction(e)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var t=null;return this.useQueryState&&(t=this.base.queryCommandState(this.getAction())),t},isAlreadyApplied:function(t){var e,i,n=!1,o=this.getTagNames();return this.knownState===!1||this.knownState===!0?this.knownState:(o&&o.length>0&&(n=o.indexOf(t.nodeName.toLowerCase())!==-1),!n&&this.style&&(e=this.style.value.split("|"),i=this.window.getComputedStyle(t,null).getPropertyValue(this.style.prop),e.forEach(function(t){this.knownState||(n=i.indexOf(t)!==-1,(n||"text-decoration"!==this.style.prop)&&(this.knownState=n))},this)),n)}});e.isBuiltInButton=function(e){return"string"==typeof e&&t.extensions.button.prototype.defaults.hasOwnProperty(e)},t.extensions.button=e}(),function(){t.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var e=t.extensions.button.extend({init:function(){t.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return!!this.hasForm&&this.getForm().classList.contains(this.activeClass)},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var t=this.base.getExtensionByName("toolbar");t&&t.hideToolbarDefaultActions()},setToolbarPosition:function(){var t=this.base.getExtensionByName("toolbar");t&&t.setToolbarPosition()}});t.extensions.form=e}(),function(){var e=t.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(e){e.preventDefault(),e.stopPropagation();var i=t.selection.getSelectionRange(this.document);return"a"===i.startContainer.nodeName.toLowerCase()||"a"===i.endContainer.nodeName.toLowerCase()||t.util.getClosestTag(t.selection.getSelectedParentElement(i),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(e){t.util.isKey(e,t.util.keyCode.K)&&t.util.isMetaCtrlKey(e)&&!e.shiftKey&&this.handleClick(e)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var t=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return t.push('<a href="#" class="medium-editor-toolbar-save">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),t.push('<a href="#" class="medium-editor-toolbar-close">',"fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target">',"<label>",this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&t.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),t.join("")},isDisplayed:function(){return t.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){t.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(e){var i=this.getInput(),n=this.getAnchorTargetCheckbox(),o=this.getAnchorButtonCheckbox();if(e=e||{url:""},"string"==typeof e&&(e={url:e}),this.base.saveSelection(),this.hideToolbarDefaultActions(),t.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),i.value=e.url,i.focus(),n&&(n.checked="_blank"===e.target),o){var s=e.buttonClass?e.buttonClass.split(" "):[];o.checked=s.indexOf(this.customClassOption)!==-1}},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},getFormOpts:function(){var t=this.getAnchorTargetCheckbox(),e=this.getAnchorButtonCheckbox(),i={url:this.getInput().value.trim()};return this.linkValidation&&(i.url=this.checkLinkFormat(i.url)),i.target="_self",t&&t.checked&&(i.target="_blank"),e&&e.checked&&(i.buttonClass=this.customClassOption),i},doFormSave:function(){var t=this.getFormOpts();this.completeFormSave(t)},completeFormSave:function(t){this.base.restoreSelection(),this.execAction(this.action,t),this.base.checkSelection()},checkLinkFormat:function(t){var e=/^([a-z]+:)?\/\/|^(mailto|tel|maps):/i,i=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/;return i.test(t)?"tel:"+t:(e.test(t)?"":"http://")+encodeURI(t)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(t){var e=t.querySelector(".medium-editor-toolbar-close"),i=t.querySelector(".medium-editor-toolbar-save"),n=t.querySelector(".medium-editor-toolbar-input");this.on(t,"click",this.handleFormClick.bind(this)),this.on(n,"keyup",this.handleTextboxKeyup.bind(this)),this.on(e,"click",this.handleCloseClick.bind(this)),this.on(i,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var t=this.document,e=t.createElement("div");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),e.innerHTML=this.getTemplate(),this.attachFormEvents(e),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(e){return e.keyCode===t.util.keyCode.ENTER?(e.preventDefault(),void this.doFormSave()):void(e.keyCode===t.util.keyCode.ESCAPE&&(e.preventDefault(),this.doFormCancel()))},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}});t.extensions.anchor=e}(),function(){var e=t.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var t=this.document.createElement("div");return t.id="medium-editor-anchor-preview-"+this.getEditorId(),t.className="medium-editor-anchor-preview",t.innerHTML=this.getTemplate(),this.on(t,"click",this.handleClick.bind(this)),t},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(t){return!(!this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")&&!t.getAttribute("data-disable-preview"))||(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=t.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=t.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=t,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(t){t=t||this.activeAnchor;var e,i,n=this.anchorPreview.offsetHeight,o=t.getBoundingClientRect(),s=(o.left+o.right)/2,r=this.diffLeft,a=this.diffTop;e=this.anchorPreview.offsetWidth/2;var l=this.base.getExtensionByName("toolbar");l&&(r=l.diffLeft,a=l.diffTop),i=r-e,this.anchorPreview.style.top=Math.round(n+o.bottom-a+this.window.pageYOffset-this.anchorPreview.offsetHeight)+"px",this.anchorPreview.style.right="initial",s<e?(this.anchorPreview.style.left=i+e+"px",this.anchorPreview.style.right="initial"):this.window.innerWidth-s<e?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=i+s+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(t){var e=this.base.getExtensionByName("anchor"),i=this.activeAnchor;e&&i&&(t.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay(function(){if(i){var t={url:i.attributes.href.value,target:i.getAttribute("target"),buttonClass:i.getAttribute("class")};e.showForm(t),i=null}}.bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(e){var i=t.util.getClosestTag(e.target,"a");if(!1!==i){if(!/href=["']\S+["']/.test(i.outerHTML)||/href=["']#\S+["']/.test(i.outerHTML))return!0;var n=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&n&&n.isDisplayed&&n.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==i&&this.detachPreviewHandlers(),this.anchorToPreview=i,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay(function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}.bind(this))}},handlePreviewMouseover:function(){this.lastOver=(new Date).getTime(),this.hovering=!0},handlePreviewMouseout:function(t){t.relatedTarget&&/anchor-preview/.test(t.relatedTarget.className)||(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var t=(new Date).getTime()-this.lastOver;t>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),
this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=(new Date).getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});t.extensions.anchorPreview=e}(),function(){function e(e){return!t.util.getClosestTag(e,"a")}var i,n,o,s;i=[" ","\t","\n","\r"," "," "," "," "," ","\u2028","\u2029"],n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",o="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+n+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+n+"))",s=new RegExp("^("+n+")$","i");var r=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var t=0,e=0;e<this.window._mediumEditors.length;e++){var i=this.window._mediumEditors[e];null!==i&&void 0!==i.getExtensionByName("autoLink")&&t++}return 1===t},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(t,e){this.performLinking(e)},onKeypress:function(e){this.disableEventHandling||t.util.isKey(e,[t.util.keyCode.SPACE,t.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout(function(){try{var t=this.base.exportSelection();this.performLinking(e.target)&&this.base.importSelection(t,!0)}catch(t){window.console&&window.console.error("Failed to perform linking",t),this.disableEventHandling=!0}}.bind(this),0))},performLinking:function(e){var i=t.util.splitByBlockElements(e),n=!1;0===i.length&&(i=[e]);for(var o=0;o<i.length;o++)n=this.removeObsoleteAutoLinkSpans(i[o])||n,n=this.performLinkingWithinElement(i[o])||n;return this.base.events.updateInput(e,{target:e,currentTarget:e}),n},removeObsoleteAutoLinkSpans:function(i){if(!i||3===i.nodeType)return!1;for(var n=i.querySelectorAll('span[data-auto-link="true"]'),o=!1,s=0;s<n.length;s++){var r=n[s].textContent;if(r.indexOf("://")===-1&&(r=t.util.ensureUrlHasProtocol(r)),n[s].getAttribute("data-href")!==r&&e(n[s])){o=!0;var a=r.replace(/\s+$/,"");if(n[s].getAttribute("data-href")===a){var l=r.length-a.length,c=t.util.splitOffDOMTree(n[s],this.splitTextBeforeEnd(n[s],l));n[s].parentNode.insertBefore(c,n[s].nextSibling)}else t.util.unwrap(n[s],this.document)}}return o},splitTextBeforeEnd:function(t,e){for(var i=this.document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),n=!0;n;)n=null!==i.lastChild();for(var o,s,r;e>0&&null!==r;)o=i.currentNode,s=o.nodeValue,s.length>e?(r=o.splitText(s.length-e),e=0):(r=i.previousNode(),e-=s.length);return r},performLinkingWithinElement:function(e){for(var i=this.findLinkableText(e),n=!1,o=0;o<i.length;o++){var s=t.util.findOrCreateMatchingTextNodes(this.document,e,i[o]);this.shouldNotLink(s)||this.createAutoLink(s,i[o].href)}return n},shouldNotLink:function(e){for(var i=!1,n=0;n<e.length&&i===!1;n++)i=!!t.util.traverseUp(e[n],function(t){return"a"===t.nodeName.toLowerCase()||t.getAttribute&&"true"===t.getAttribute("data-auto-link")});return i},findLinkableText:function(t){for(var e=new RegExp(o,"gi"),n=t.textContent,r=null,a=[];null!==(r=e.exec(n));){var l=!0,c=r.index+r[0].length;l=!(0!==r.index&&i.indexOf(n[r.index-1])===-1||c!==n.length&&i.indexOf(n[c])===-1),l=l&&(r[0].indexOf("/")!==-1||s.test(r[0].split(".").pop().split("?").shift())),l&&a.push({href:r[0],start:r.index,end:c})}return a},createAutoLink:function(e,i){i=t.util.ensureUrlHasProtocol(i);var n=t.util.createLink(this.document,e,i,this.getEditorOption("targetBlank")?"_blank":null),o=this.document.createElement("span");for(o.setAttribute("data-auto-link","true"),o.setAttribute("data-href",i),n.insertBefore(o,n.firstChild);n.childNodes.length>1;)o.appendChild(n.childNodes[1])}});t.extensions.autoLink=r}(),function(){function e(e){var n=t.util.getContainerEditorElement(e),o=Array.prototype.slice.call(n.parentElement.querySelectorAll("."+i));o.forEach(function(t){t.classList.remove(i)})}var i="medium-editor-dragover",n=t.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){t.preventDefault(),t.dataTransfer.dropEffect="copy";var n=t.target.classList?t.target:t.target.parentElement;e(n),"dragover"===t.type&&n.classList.add(i)},handleDrop:function(t){t.preventDefault(),t.stopPropagation(),this.base.selectElement(t.target);var i=this.base.exportSelection();i.start=i.end,this.base.importSelection(i),t.dataTransfer.files&&Array.prototype.slice.call(t.dataTransfer.files).forEach(function(t){this.isAllowedFile(t)&&t.type.match("image")&&this.insertImageFile(t)},this),e(t.target)},isAllowedFile:function(t){return this.allowedTypes.some(function(e){return!!t.type.match(e)})},insertImageFile:function(e){if("function"==typeof FileReader){var i=new FileReader;i.readAsDataURL(e),i.addEventListener("load",function(e){var i=this.document.createElement("img");i.src=e.target.result,t.util.insertHTMLCommand(this.document,i.outerHTML)}.bind(this))}}});t.extensions.fileDragging=n}(),function(){var e=t.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(t){var e=t.key.charCodeAt(0);this.keys[e]||(this.keys[e]=[]),this.keys[e].push(t)},this)},handleKeydown:function(e){var i=t.util.getKeyCode(e);if(this.keys[i]){var n=t.util.isMetaCtrlKey(e),o=!!e.shiftKey,s=!!e.altKey;this.keys[i].forEach(function(t){t.meta!==n||t.shift!==o||t.alt!==s&&void 0!==t.alt||(e.preventDefault(),e.stopPropagation(),"function"==typeof t.command?t.command.apply(this):!1!==t.command&&this.execAction(t.command))},this)}}});t.extensions.keyboardCommands=e}(),function(){var e=t.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontName")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(t){var e=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var t,e=this.document,i=e.createElement("div"),n=e.createElement("select"),o=e.createElement("a"),s=e.createElement("a");i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(i,"click",this.handleFormClick.bind(this));for(var r=0;r<this.fonts.length;r++)t=e.createElement("option"),t.innerHTML=this.fonts[r],t.value=this.fonts[r],n.appendChild(t);return n.className="medium-editor-toolbar-select",i.appendChild(n),this.on(n,"change",this.handleFontChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",i.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),o.setAttribute("href","#"),o.className="medium-editor-toobar-close",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",i.appendChild(o),this.on(o,"click",this.handleCloseClick.bind(this)),i},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){t.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("face")&&t.removeAttribute("face")})},handleFontChange:function(){var t=this.getSelect().value;""===t?this.clearFontName():this.execAction("fontName",{name:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}});t.extensions.fontName=e}(),function(){var e=t.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){t.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(t){if(t.preventDefault(),t.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontSize")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return"block"===this.getForm().style.display},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(t){var e=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=t||"",e.focus()},destroy:function(){return!!this.form&&(this.form.parentNode&&this.form.parentNode.removeChild(this.form),void delete this.form)},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var t=this.document,e=t.createElement("div"),i=t.createElement("input"),n=t.createElement("a"),o=t.createElement("a");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this)),i.setAttribute("type","range"),i.setAttribute("min","1"),i.setAttribute("max","7"),i.className="medium-editor-toolbar-input",e.appendChild(i),this.on(i,"change",this.handleSliderChange.bind(this)),o.setAttribute("href","#"),o.className="medium-editor-toobar-save",o.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(o),this.on(o,"click",this.handleSaveClick.bind(this),!0),n.setAttribute("href","#"),n.className="medium-editor-toobar-close",n.innerHTML="fontawesome"===this.getEditorOption("buttonLabels")?'<i class="fa fa-times"></i>':"&times;",e.appendChild(n),this.on(n,"click",this.handleCloseClick.bind(this)),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){t.selection.getSelectedElements(this.document).forEach(function(t){"font"===t.nodeName.toLowerCase()&&t.hasAttribute("size")&&t.removeAttribute("size")})},handleSliderChange:function(){var t=this.getInput().value;"4"===t?this.clearFontSize():this.execAction("fontSize",{size:t})},handleFormClick:function(t){t.stopPropagation()},handleSaveClick:function(t){t.preventDefault(),this.doFormSave()},handleCloseClick:function(t){t.preventDefault(),this.doFormCancel()}});t.extensions.fontSize=e}(),function(){function e(){return[[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:bold|font-weight:bold;font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:bold[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],["<!--EndFragment-->",""],["<!--StartFragment-->",""]]}var i=t.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],init:function(){t.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&this.subscribe("editablePaste",this.handlePaste.bind(this))},handlePaste:function(e,i){var n,o,s,r,a="",l="text/html",c="text/plain";if(this.window.clipboardData&&void 0===e.clipboardData&&(e.clipboardData=this.window.clipboardData,l="Text",c="Text"),e.clipboardData&&e.clipboardData.getData&&!e.defaultPrevented){if(e.preventDefault(),s=e.clipboardData.getData(l),r=e.clipboardData.getData(c),this.cleanPastedHTML&&s)return this.cleanPaste(s);if(this.getEditorOption("disableReturn")||i.getAttribute("data-disable-return"))a=t.util.htmlEntities(r);else if(n=r.split(/[\r\n]+/g),n.length>1)for(o=0;o<n.length;o+=1)""!==n[o]&&(a+="<p>"+t.util.htmlEntities(n[o])+"</p>");else a=t.util.htmlEntities(n[0]);t.util.insertHTMLCommand(this.document,a)}},cleanPaste:function(t){var i,n,o,s,r=/<p|<br|<div/.test(t),a=[].concat(this.preCleanReplacements||[],e(),this.cleanReplacements||[]);for(i=0;i<a.length;i+=1)t=t.replace(a[i][0],a[i][1]);if(!r)return this.pasteHTML(t);for(o=this.document.createElement("div"),o.innerHTML="<p>"+t.split("<br><br>").join("</p><p>")+"</p>",n=o.querySelectorAll("a,p,div,br"),i=0;i<n.length;i+=1)switch(s=n[i],s.innerHTML=s.innerHTML.replace(/\n/gi," "),s.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(s);break;case"br":this.filterLineBreak(s)}this.pasteHTML(o.innerHTML)},pasteHTML:function(e,i){i=t.util.defaults({},i,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags});var n,o,s,r,a=this.document.createDocumentFragment();for(a.appendChild(this.document.createElement("body")),r=a.querySelector("body"),r.innerHTML=e,this.cleanupSpans(r),n=r.querySelectorAll("*"),s=0;s<n.length;s+=1)o=n[s],"a"===o.nodeName.toLowerCase()&&this.getEditorOption("targetBlank")&&t.util.setTargetBlank(o),t.util.cleanupAttrs(o,i.cleanAttrs),t.util.cleanupTags(o,i.cleanTags);t.util.insertHTMLCommand(this.document,r.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(t){return t&&("p"===t.nodeName.toLowerCase()||"div"===t.nodeName.toLowerCase())},filterCommonBlocks:function(t){/^\s*$/.test(t.textContent)&&t.parentNode&&t.parentNode.removeChild(t)},filterLineBreak:function(t){this.isCommonBlock(t.previousElementSibling)?this.removeWithParent(t):!this.isCommonBlock(t.parentNode)||t.parentNode.firstChild!==t&&t.parentNode.lastChild!==t?t.parentNode&&1===t.parentNode.childElementCount&&""===t.parentNode.textContent&&this.removeWithParent(t):this.removeWithParent(t)},removeWithParent:function(t){t&&t.parentNode&&(t.parentNode.parentNode&&1===t.parentNode.childElementCount?t.parentNode.parentNode.removeChild(t.parentNode):t.parentNode.removeChild(t))},cleanupSpans:function(e){var i,n,o,s=e.querySelectorAll(".replace-with"),r=function(t){return t&&"#text"!==t.nodeName&&"false"===t.getAttribute("contenteditable")};for(i=0;i<s.length;i+=1)n=s[i],o=this.document.createElement(n.classList.contains("bold")?"b":"i"),n.classList.contains("bold")&&n.classList.contains("italic")?o.innerHTML="<i>"+n.innerHTML+"</i>":o.innerHTML=n.innerHTML,n.parentNode.replaceChild(o,n);for(s=e.querySelectorAll("span"),i=0;i<s.length;i+=1){if(n=s[i],t.util.traverseUp(n,r))return!1;t.util.unwrap(n,this.document)}}});t.extensions.paste=i}(),function(){var e=t.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")||t.setAttribute("data-placeholder",this.text),this.updatePlaceholder(t)},this)},destroy:function(){this.getEditorElements().forEach(function(t){t.getAttribute("data-placeholder")===this.text&&t.removeAttribute("data-placeholder")},this)},showPlaceholder:function(t){t&&t.classList.add("medium-editor-placeholder")},hidePlaceholder:function(t){t&&t.classList.remove("medium-editor-placeholder")},updatePlaceholder:function(t,e){return t.querySelector("img, blockquote, ul, ol")||""!==t.textContent.replace(/^\s+|\s+$/g,"")?this.hidePlaceholder(t):void(e||this.showPlaceholder(t))},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this))},handleInput:function(t,e){var i=this.hideOnClick&&e===this.base.getFocusedElement();this.updatePlaceholder(e,i)},handleFocus:function(t,e){this.hidePlaceholder(e)},handleBlur:function(t,e){this.updatePlaceholder(e)}});t.extensions.placeholder=e}(),function(){var e=t.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){t.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(t,e){return this.base.extensions.forEach(function(i){if(i!==this)return t.apply(e||this,arguments)},this)},createToolbar:function(){var t=this.document.createElement("div");return t.id="medium-editor-toolbar-"+this.getEditorId(),t.className="medium-editor-toolbar",this.static?t.className+=" static-toolbar":this.relativeContainer?t.className+=" medium-editor-relative-toolbar":t.className+=" medium-editor-stalker-toolbar",t.appendChild(this.createToolbarButtons()),this.forEachExtension(function(e){e.hasForm&&t.appendChild(e.getForm())}),this.attachEventHandlers(),t},createToolbarButtons:function(){var e,i,n,o,s,r,a=this.document.createElement("ul");return a.id="medium-editor-toolbar-actions"+this.getEditorId(),a.className="medium-editor-toolbar-actions",a.style.display="block",this.buttons.forEach(function(n){"string"==typeof n?(s=n,r=null):(s=n.name,r=n),o=this.base.addBuiltInExtension(s,r),o&&"function"==typeof o.getButton&&(i=o.getButton(this.base),e=this.document.createElement("li"),t.util.isElement(i)?e.appendChild(i):e.innerHTML=i,a.appendChild(e))},this),n=a.querySelectorAll("button"),n.length>0&&(n[0].classList.add(this.firstButtonClass),n[n.length-1].classList.add(this.lastButtonClass)),a},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=t.util.throttle(function(){this.base.isActive&&this.positionToolbarIfShown()}.bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(e){return!(e&&e.target&&t.util.isDescendant(this.getToolbarElement(),e.target))&&void this.checkState()},handleEditableClick:function(){setTimeout(function(){this.checkState()}.bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout(function(){this.hideToolbar()}.bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return"block"===this.getToolbarActionsElement().style.display},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay(function(){this.showToolbar()}.bind(this))},hideExtensionForms:function(){this.forEachExtension(function(t){t.hasForm&&t.isDisplayed()&&t.hideForm()})},multipleBlockElementsSelected:function(){var e=/<[^\/>][^>]*><\/[^>]+>/gim,i=new RegExp("<("+t.util.blockContainerElementNames.join("|")+")[^>]*>","g"),n=t.selection.getSelectionHtml(this.document).replace(e,""),o=n.match(i);return!!o&&o.length>1},modifySelection:function(){var e=this.window.getSelection(),i=e.getRangeAt(0);if(this.standardizeSelectionStart&&i.startContainer.nodeValue&&i.startOffset===i.startContainer.nodeValue.length){var n=t.util.findAdjacentTextNodeWithContent(t.selection.getSelectionElement(this.window),i.startContainer,this.document);if(n){for(var o=0;0===n.nodeValue.substr(o,1).trim().length;)o+=1;i=t.selection.select(this.document,n,o,i.endContainer,i.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||t.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var e=t.selection.getSelectionElement(this.window);return!e||this.getEditorElements().indexOf(e)===-1||e.getAttribute("data-disable-toolbar")?this.hideToolbar():this.updateOnEmptySelection&&this.static?this.showAndUpdateToolbar():!t.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected()?this.hideToolbar():void this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(t){"function"==typeof t.isActive&&"function"==typeof t.setInactive&&t.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var e,i=[],n=null,o=t.selection.getSelectionRange(this.document),s=function(t){"function"==typeof t.checkState?t.checkState(e):"function"==typeof t.isActive&&"function"==typeof t.isAlreadyApplied&&"function"==typeof t.setActive&&!t.isActive()&&t.isAlreadyApplied(e)&&t.setActive()};if(o&&(this.forEachExtension(function(t){return"function"==typeof t.queryCommandState&&(n=t.queryCommandState(),null!==n)?void(n&&"function"==typeof t.setActive&&t.setActive()):void i.push(t)}),e=t.selection.getSelectedParentElement(o),this.getEditorElements().some(function(i){return t.util.isDescendant(i,e,!0)})))for(;e&&(i.forEach(s),!t.util.isMediumEditorElement(e));)e=e.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var t=this.base.getFocusedElement(),e=this.window.getSelection();return t?void(!this.static&&e.isCollapsed||(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(t):this.positionToolbar(e)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))):this},positionStaticToolbar:function(t){this.getToolbarElement().style.left="0";var e,i=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,n=this.window.innerWidth,o=this.getToolbarElement(),s=t.getBoundingClientRect(),r=s.top+i,a=s.left+s.width/2,l=o.offsetHeight,c=o.offsetWidth,d=c/2;switch(this.sticky?i>r+t.offsetHeight-l-this.stickyTopOffset?(o.style.top=r+t.offsetHeight-l+"px",o.classList.remove("medium-editor-sticky-toolbar")):i>r-l-this.stickyTopOffset?(o.classList.add("medium-editor-sticky-toolbar"),o.style.top=this.stickyTopOffset+"px"):(o.classList.remove("medium-editor-sticky-toolbar"),o.style.top=r-l+"px"):o.style.top=r-l+"px",this.align){case"left":e=s.left;break;case"right":e=s.right-c;break;case"center":e=a-d}e<0?e=0:e+c>n&&(e=n-Math.ceil(c)-1),o.style.left=e+"px"},positionToolbar:function(t){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var e=t.getRangeAt(0),i=e.getBoundingClientRect();(!i||0===i.height&&0===i.width&&e.startContainer===e.endContainer)&&(i=1===e.startContainer.nodeType&&e.startContainer.querySelector("img")?e.startContainer.querySelector("img").getBoundingClientRect():e.startContainer.getBoundingClientRect());var n=this.window.innerWidth,o=(i.left+i.right)/2,s=this.getToolbarElement(),r=s.offsetHeight,a=s.offsetWidth,l=a/2,c=50,d=this.diffLeft-l;i.top<c?(s.classList.add("medium-toolbar-arrow-over"),s.classList.remove("medium-toolbar-arrow-under"),s.style.top=c+i.bottom-this.diffTop+this.window.pageYOffset-r+"px"):(s.classList.add("medium-toolbar-arrow-under"),s.classList.remove("medium-toolbar-arrow-over"),s.style.top=i.top+this.diffTop+this.window.pageYOffset-r+"px"),o<l?(s.style.left=d+l+"px",s.style.right="initial"):n-o<l?(s.style.left="auto",s.style.right=0):(s.style.left=d+o+"px",s.style.right="initial")}});t.extensions.toolbar=e}(),function(){var e=t.Extension.extend({init:function(){t.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(t){var e="medium-editor-dragover";t.preventDefault(),t.dataTransfer.dropEffect="copy","dragover"===t.type?t.target.classList.add(e):"dragleave"===t.type&&t.target.classList.remove(e)},handleDrop:function(e){var i,n="medium-editor-dragover";e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&(i=Array.prototype.slice.call(e.dataTransfer.files,0),i.some(function(e){if(e.type.match("image")){var i,n;i=new FileReader,i.readAsDataURL(e),n="medium-img-"+ +new Date,t.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+n+'" />'),i.onload=function(){var t=this.document.getElementById(n);t&&(t.removeAttribute("id"),t.removeAttribute("class"),t.src=i.result)}.bind(this)}}.bind(this))),e.target.classList.remove(n)}});t.extensions.imageDragging=e}(),function(){function e(e){var i=t.selection.getSelectionStart(this.options.ownerDocument),n=i.textContent,o=t.selection.getCaretOffsets(i);(void 0===n[o.left-1]||""===n[o.left-1].trim()||void 0!==n[o.left]&&""===n[o.left].trim())&&e.preventDefault()}function i(e,i){if(this.options.disableReturn||i.getAttribute("data-disable-return"))e.preventDefault();else if(this.options.disableDoubleReturn||i.getAttribute("data-disable-double-return")){var n=t.selection.getSelectionStart(this.options.ownerDocument);(n&&""===n.textContent.trim()&&"li"!==n.nodeName.toLowerCase()||n.previousElementSibling&&"br"!==n.previousElementSibling.nodeName.toLowerCase()&&""===n.previousElementSibling.textContent.trim())&&e.preventDefault()}}function n(e){var i=t.selection.getSelectionStart(this.options.ownerDocument),n=i&&i.nodeName.toLowerCase();"pre"===n&&(e.preventDefault(),t.util.insertHTMLCommand(this.options.ownerDocument,"    ")),t.util.isListItem(i)&&(e.preventDefault(),e.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function o(e){var i,n=t.selection.getSelectionStart(this.options.ownerDocument),o=n.nodeName.toLowerCase(),s=/^(\s+|<br\/?>)?$/i,r=/h\d/i;t.util.isKey(e,[t.util.keyCode.BACKSPACE,t.util.keyCode.ENTER])&&n.previousElementSibling&&r.test(o)&&0===t.selection.getCaretOffsets(n).left?t.util.isKey(e,t.util.keyCode.BACKSPACE)&&s.test(n.previousElementSibling.innerHTML)?(n.previousElementSibling.parentNode.removeChild(n.previousElementSibling),e.preventDefault()):!this.options.disableDoubleReturn&&t.util.isKey(e,t.util.keyCode.ENTER)&&(i=this.options.ownerDocument.createElement("p"),i.innerHTML="<br>",n.previousElementSibling.parentNode.insertBefore(i,n),e.preventDefault()):t.util.isKey(e,t.util.keyCode.DELETE)&&n.nextElementSibling&&n.previousElementSibling&&!r.test(o)&&s.test(n.innerHTML)&&r.test(n.nextElementSibling.nodeName.toLowerCase())?(t.selection.moveCursor(this.options.ownerDocument,n.nextElementSibling),n.previousElementSibling.parentNode.removeChild(n),e.preventDefault()):t.util.isKey(e,t.util.keyCode.BACKSPACE)&&"li"===o&&s.test(n.innerHTML)&&!n.previousElementSibling&&!n.parentElement.previousElementSibling&&n.nextElementSibling&&"li"===n.nextElementSibling.nodeName.toLowerCase()?(i=this.options.ownerDocument.createElement("p"),i.innerHTML="<br>",n.parentElement.parentElement.insertBefore(i,n.parentElement),t.selection.moveCursor(this.options.ownerDocument,i),n.parentElement.removeChild(n),e.preventDefault()):t.util.isKey(e,t.util.keyCode.BACKSPACE)&&t.util.getClosestTag(n,"blockquote")!==!1&&0===t.selection.getCaretOffsets(n).left&&(e.preventDefault(),t.util.execFormatBlock(this.options.ownerDocument,"p"));
}function s(e){var i,n=t.selection.getSelectionStart(this.options.ownerDocument);n&&(t.util.isMediumEditorElement(n)&&0===n.children.length&&!t.util.isBlockContainer(n)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),!t.util.isKey(e,t.util.keyCode.ENTER)||t.util.isListItem(n)||t.util.isBlockContainer(n)||(i=n.nodeName.toLowerCase(),"a"===i?this.options.ownerDocument.execCommand("unlink",!1,null):e.shiftKey||e.ctrlKey||this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function r(t){t._mediumEditors||(t._mediumEditors=[null]),this.id||(this.id=t._mediumEditors.length),t._mediumEditors[this.id]=this}function a(t){t._mediumEditors&&t._mediumEditors[this.id]&&(t._mediumEditors[this.id]=null)}function l(e){e||(e=[]),"string"==typeof e&&(e=this.options.ownerDocument.querySelectorAll(e)),t.util.isElement(e)&&(e=[e]);var i=Array.prototype.slice.apply(e);this.elements=[],i.forEach(function(t,e){"textarea"===t.nodeName.toLowerCase()?this.elements.push(v.call(this,t,e)):this.elements.push(t)},this)}function c(t,e){return Object.keys(e).forEach(function(i){void 0===t[i]&&(t[i]=e[i])}),t}function d(t,e,i){var n={window:i.options.contentWindow,document:i.options.ownerDocument,base:i};return t=c(t,n),"function"==typeof t.init&&t.init(),t.name||(t.name=e),t}function u(){return!this.elements.every(function(t){return!!t.getAttribute("data-disable-toolbar")})&&this.options.toolbar!==!1}function h(){return!!u.call(this)&&this.options.anchorPreview!==!1}function p(){return this.options.placeholder!==!1}function f(){return this.options.autoLink!==!1}function m(){return this.options.imageDragging!==!1}function g(){return this.options.keyboardCommands!==!1}function b(){return!this.options.extensions.imageDragging}function v(t,e){for(var i=this.options.ownerDocument.createElement("div"),n=Date.now(),o="medium-editor-"+n+"-"+e,s=t.attributes;this.options.ownerDocument.getElementById(o);)n++,o="medium-editor-"+n+"-"+e;i.className=t.className,i.id=o,i.innerHTML=t.value,t.setAttribute("medium-editor-textarea-id",o);for(var r=0,a=s.length;r<a;r++)i.hasAttribute(s[r].nodeName)||i.setAttribute(s[r].nodeName,s[r].nodeValue);return t.classList.add("medium-editor-hidden"),t.parentNode.insertBefore(i,t),i}function w(){var t=!1;this.elements.forEach(function(e,i){this.options.disableEditing||e.getAttribute("data-disable-editing")||(e.setAttribute("contentEditable",!0),e.setAttribute("spellcheck",this.options.spellcheck)),e.setAttribute("data-medium-editor-element",!0),e.setAttribute("role","textbox"),e.setAttribute("aria-multiline",!0),e.setAttribute("medium-editor-index",i),e.hasAttribute("medium-editor-textarea-id")&&(t=!0)},this),t&&this.subscribe("editableInput",function(t,e){var i=e.parentNode.querySelector('textarea[medium-editor-textarea-id="'+e.getAttribute("medium-editor-textarea-id")+'"]');i&&(i.value=this.serialize()[e.id].value)}.bind(this))}function x(){var t;if(this.subscribe("editableKeydownTab",n.bind(this)),this.subscribe("editableKeydownDelete",o.bind(this)),this.subscribe("editableKeydownEnter",o.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",e.bind(this)),this.options.disableReturn||this.options.disableDoubleReturn)this.subscribe("editableKeydownEnter",i.bind(this));else for(t=0;t<this.elements.length;t+=1)if(this.elements[t].getAttribute("data-disable-return")||this.elements[t].getAttribute("data-disable-double-return")){this.subscribe("editableKeydownEnter",i.bind(this));break}this.options.disableReturn||this.elements.forEach(function(t){t.getAttribute("data-disable-return")||this.on(t,"keyup",s.bind(this))},this)}function y(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(t){"toolbar"!==t&&this.options.extensions[t]&&this.extensions.push(d(this.options.extensions[t],t,this))},this),b.call(this)){var e=this.options.fileDragging;e||(e={},m.call(this)||(e.allowedTypes=[])),this.addBuiltInExtension("fileDragging",e)}var i={paste:!0,"anchor-preview":h.call(this),autoLink:f.call(this),keyboardCommands:g.call(this),placeholder:p.call(this)};Object.keys(i).forEach(function(t){i[t]&&this.addBuiltInExtension(t)},this);var n=this.options.extensions.toolbar;if(!n&&u.call(this)){var o=t.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});n=new t.extensions.toolbar(o)}n&&this.extensions.push(d(n,"toolbar",this))}function C(e,i){var n=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return i&&n.forEach(function(e){i.hasOwnProperty(e[0])&&void 0!==i[e[0]]&&t.util.deprecated(e[0],e[1],"v6.0.0")}),t.util.defaults({},i,e)}function E(e,i){var n,o=/^append-(.+)$/gi,s=/justify([A-Za-z]*)$/g;if(n=o.exec(e))return t.util.execFormatBlock(this.options.ownerDocument,n[1]);if("fontSize"===e)return this.options.ownerDocument.execCommand("fontSize",!1,i.size);if("fontName"===e)return this.options.ownerDocument.execCommand("fontName",!1,i.name);if("createLink"===e)return this.createLink(i);if("image"===e){var r=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,r)}if(s.exec(e)){var a=this.options.ownerDocument.execCommand(e,!1,null),l=t.selection.getSelectedParentElement(t.selection.getSelectionRange(this.options.ownerDocument));return l&&k.call(this,t.util.getTopBlockContainer(l)),a}return this.options.ownerDocument.execCommand(e,!1,null)}function k(e){if(e){var i,n=Array.prototype.slice.call(e.childNodes).filter(function(t){var e="div"===t.nodeName.toLowerCase();return e&&!i&&(i=t.style.textAlign),e});n.length&&(this.saveSelection(),n.forEach(function(e){if(e.style.textAlign===i){var n=e.lastChild;if(n){t.util.unwrap(e,this.options.ownerDocument);var o=this.options.ownerDocument.createElement("BR");n.parentNode.insertBefore(o,n.nextSibling)}}},this),e.style.textAlign=i,this.restoreSelection())}}t.prototype={init:function(t,e){return this.options=C.call(this,this.defaults,e),this.origElements=t,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(l.call(this,this.origElements),0!==this.elements.length&&(this.isActive=!0,r.call(this,this.options.contentWindow),this.events=new t.Events(this),w.call(this),y.call(this),x.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(t){"function"==typeof t.destroy&&t.destroy()},this),this.events.destroy(),this.elements.forEach(function(t){if(this.options.spellcheck&&(t.innerHTML=t.innerHTML),t.removeAttribute("contentEditable"),t.removeAttribute("spellcheck"),t.removeAttribute("data-medium-editor-element"),t.removeAttribute("role"),t.removeAttribute("aria-multiline"),t.removeAttribute("medium-editor-index"),t.hasAttribute("medium-editor-textarea-id")){var e=t.parentNode.querySelector('textarea[medium-editor-textarea-id="'+t.getAttribute("medium-editor-textarea-id")+'"]');e&&e.classList.remove("medium-editor-hidden"),t.parentNode&&t.parentNode.removeChild(t)}},this),this.elements=[],a.call(this,this.options.contentWindow))},on:function(t,e,i,n){return this.events.attachDOMEvent(t,e,i,n),this},off:function(t,e,i,n){return this.events.detachDOMEvent(t,e,i,n),this},subscribe:function(t,e){return this.events.attachCustomEvent(t,e),this},unsubscribe:function(t,e){return this.events.detachCustomEvent(t,e),this},trigger:function(t,e,i){return this.events.triggerCustomEvent(t,e,i),this},delay:function(t){var e=this;return setTimeout(function(){e.isActive&&t()},this.options.delay)},serialize:function(){var t,e,i={};for(t=0;t<this.elements.length;t+=1)e=""!==this.elements[t].id?this.elements[t].id:"element-"+t,i[e]={value:this.elements[t].innerHTML.trim()};return i},getExtensionByName:function(t){var e;return this.extensions&&this.extensions.length&&this.extensions.some(function(i){return i.name===t&&(e=i,!0)}),e},addBuiltInExtension:function(e,i){var n,o=this.getExtensionByName(e);if(o)return o;switch(e){case"anchor":n=t.util.extend({},this.options.anchor,i),o=new t.extensions.anchor(n);break;case"anchor-preview":o=new t.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":o=new t.extensions.autoLink;break;case"fileDragging":o=new t.extensions.fileDragging(i);break;case"fontname":o=new t.extensions.fontName(this.options.fontName);break;case"fontsize":o=new t.extensions.fontSize(i);break;case"keyboardCommands":o=new t.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":o=new t.extensions.paste(this.options.paste);break;case"placeholder":o=new t.extensions.placeholder(this.options.placeholder);break;default:t.extensions.button.isBuiltInButton(e)&&(i?(n=t.util.defaults({},i,t.extensions.button.prototype.defaults[e]),o=new t.extensions.button(n)):o=new t.extensions.button(e))}return o&&this.extensions.push(d(o,e,this)),o},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var t=this.getExtensionByName("toolbar");return t&&t.checkState(),this},queryCommandState:function(t){var e,i=/^full-(.+)$/gi,n=null;e=i.exec(t),e&&(t=e[1]);try{n=this.options.ownerDocument.queryCommandState(t)}catch(t){n=null}return n},execAction:function(e,i){var n,o,s=/^full-(.+)$/gi;return n=s.exec(e),n?(this.saveSelection(),this.selectAllContents(),o=E.call(this,n[1],i),this.restoreSelection()):o=E.call(this,e,i),"insertunorderedlist"!==e&&"insertorderedlist"!==e||t.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),o},getSelectedParentElement:function(e){return void 0===e&&(e=this.options.contentWindow.getSelection().getRangeAt(0)),t.selection.getSelectedParentElement(e)},selectAllContents:function(){var e=t.selection.getSelectionElement(this.options.contentWindow);if(e){for(;1===e.children.length;)e=e.children[0];this.selectElement(e)}},selectElement:function(e){t.selection.selectNode(e,this.options.ownerDocument);var i=t.selection.getSelectionElement(this.options.contentWindow);i&&this.events.focusElement(i)},getFocusedElement:function(){var t;return this.elements.some(function(e){return!t&&e.getAttribute("data-medium-focused")&&(t=e),!!t},this),t},exportSelection:function(){var e=t.selection.getSelectionElement(this.options.contentWindow),i=this.elements.indexOf(e),n=null;return i>=0&&(n=t.selection.exportSelection(e,this.options.ownerDocument)),null!==n&&0!==i&&(n.editableElementIndex=i),n},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(e,i){if(e){var n=this.elements[e.editableElementIndex||0];t.selection.importSelection(e,n,this.options.ownerDocument,i)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(e){var i=t.selection.getSelectionElement(this.options.contentWindow),n={};if(this.elements.indexOf(i)!==-1){try{if(this.events.disableCustomEvent("editableInput"),e.url&&e.url.trim().length>0){var o=this.options.contentWindow.getSelection();if(o){var s,r,a,l,c=o.getRangeAt(0),d=c.commonAncestorContainer;if(3===c.endContainer.nodeType&&3!==c.startContainer.nodeType&&0===c.startOffset&&c.startContainer.firstChild===c.endContainer&&(d=c.endContainer),r=t.util.getClosestBlockContainer(c.startContainer),a=t.util.getClosestBlockContainer(c.endContainer),3!==d.nodeType&&0!==d.textContent.length&&r===a){var u=r||i,h=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),s=this.exportSelection(),h.appendChild(u.cloneNode(!0)),i===u?t.selection.select(this.options.ownerDocument,u.firstChild,0,u.lastChild,3===u.lastChild.nodeType?u.lastChild.nodeValue.length:u.lastChild.childNodes.length):t.selection.select(this.options.ownerDocument,u,0,u,u.childNodes.length);var p=this.exportSelection();l=t.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,h,{start:s.start-p.start,end:s.end-p.start,editableElementIndex:s.editableElementIndex}),0===l.length&&(h=this.options.ownerDocument.createDocumentFragment(),h.appendChild(d.cloneNode(!0)),l=[h.firstChild.firstChild,h.firstChild.lastChild]),t.util.createLink(this.options.ownerDocument,l,e.url.trim());var f=(h.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;t.util.insertHTMLCommand(this.options.ownerDocument,h.firstChild.innerHTML.replace(/^\s+/,"")),s.start-=f,s.end-=f,this.importSelection(s)}else this.options.ownerDocument.execCommand("createLink",!1,e.url);this.options.targetBlank||"_blank"===e.target?t.util.setTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),e.url):t.util.removeTargetBlank(t.selection.getSelectionStart(this.options.ownerDocument),e.url),e.buttonClass&&t.util.addClassToAnchors(t.selection.getSelectionStart(this.options.ownerDocument),e.buttonClass)}}if(this.options.targetBlank||"_blank"===e.target||e.buttonClass){n=this.options.ownerDocument.createEvent("HTMLEvents"),n.initEvent("input",!0,!0,this.options.contentWindow);for(var m=0;m<this.elements.length;m+=1)this.elements[m].dispatchEvent(n)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",n,i)}},cleanPaste:function(t){this.getExtensionByName("paste").cleanPaste(t)},pasteHTML:function(t,e){this.getExtensionByName("paste").pasteHTML(t,e)},setContent:function(t,e){if(e=e||0,this.elements[e]){var i=this.elements[e];i.innerHTML=t,this.events.updateInput(i,{target:i,currentTarget:i})}}}}(),function(){t.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),t.parseVersionString=function(t){var e=t.split("-"),i=e[0].split("."),n=e.length>1?e[1]:"";return{major:parseInt(i[0],10),minor:parseInt(i[1],10),revision:parseInt(i[2],10),preRelease:n,toString:function(){return[i[0],i[1],i[2]].join(".")+(n?"-"+n:"")}}},t.version=t.parseVersionString.call(this,{version:"5.16.1"}.version),t}())},1687:function(t,e,i){i(10);t.exports=function(t){var e="";Array.prototype.join;return e+='<section class="subview-header">\n    <div class="back glyph-center glyph-angle-left"></div>\n    <div class="guide-button glyph-center glyph-question"></div>\n    <h1>Bio</h1>\n</section>\n\n<section class="subview-content pad-vertical pad-horizontal rule-top">\n    <header>\n        <h2>A great bio is unique and relatable.</h2>\n        <p>Start with one of the bios below or write your own.</p>\n    </header>\n    <fieldset class="presets-container"></fieldset>\n    <fieldset class="editor-container"></fieldset>\n    <fieldset class="tools-container"></fieldset>\n    <fieldset class="error-container"></fieldset>\n    <div class="buttons-container">\n        <fieldset class="cancel-button-container"></fieldset>\n        <fieldset class="save-button-container"></fieldset>\n    </div>\n</section>\n'}}});
//# sourceMappingURL=edit-bio.2979bb341018b3309147.bundle.js.map